<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>RGZTEC ‚Ä¢ Listings</title>
<meta name="description" content="Discover unique products and open your store on RGZTEC."/>
<style>
:root{
  --wrap:1100px;
  --gutter-min:12px; --gutter-max:28px;
  --ink:#0b1220; --sub:#64748b;
  --line:#e5e7eb; --line-strong:#d7dbe3;
  --brand:#f97316; --brand-dark:#ea580c;
  --search-h:52px;
}
*{box-sizing:border-box}
html,body{margin:0;overflow-x:hidden}
body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:#fff}

/* containers */
.page-section{width:100%;max-width:var(--wrap);margin-inline:auto;padding-inline:16px}
.page-section--fluid{max-width:none;padding-inline:clamp(var(--gutter-min),4vw,var(--gutter-max))}

/* header */
.header-outer{position:sticky;top:0;z-index:50;background:rgba(255,255,255,.85);
  backdrop-filter:saturate(120%) blur(8px);border-bottom:1px solid var(--line)}
.header-row{display:flex;align-items:center;gap:12px;flex-wrap:wrap; padding:8px 0}
.header-left,.hdr-right{flex-shrink:0}
.search-wrap{flex:1 1 auto;min-width:260px;max-width:980px}
.brand{font-weight:900;font-size:22px;color:var(--brand);text-decoration:none;margin-right:8px}
.btn-cats{display:inline-flex;align-items:center;gap:10px;height:40px;padding:0 14px;border:1px solid var(--line-strong);border-radius:12px;background:#fff;cursor:pointer}
.btn-cats svg{width:18px;height:18px}
.search{display:flex;align-items:center;height:var(--search-h);border:2px solid #111827;border-radius:999px;
  padding:0 8px 0 16px;width:100%;max-width:100%;overflow:hidden}
.search input{flex:1;min-width:0;border:0;outline:0;font-size:16px;padding:12px 10px;background:transparent}
.go{display:grid;place-items:center;width:38px;height:38px;border-radius:999px;background:var(--brand);border:0;cursor:pointer;margin-right:4px}
.go svg{width:18px;height:18px;stroke:#fff;fill:none;stroke-width:2}
.hdr-right{display:flex;justify-content:flex-end;align-items:center;gap:12px;flex-wrap:nowrap}
.signin-link{color:var(--ink);text-decoration:none;font-weight:600;font-size:14px;white-space:nowrap}
.signin-link:hover{color:var(--brand)}
.icon-btn{display:grid;place-items:center;width:32px;height:32px;border-radius:999px;border:1px solid var(--line-strong);background:#fff}
.pill-open{display:inline-flex;align-items:center;justify-content:center;height:40px;padding:0 18px;border-radius:20px;background:var(--brand);color:#fff;font-weight:700;text-decoration:none}
.pill-open:hover{background:var(--brand-dark)}

/* sections */
.section-container{padding-top:24px}
.section-h{font-weight:800;font-size:28px;margin:0 0 16px 0}
.section-h .tag-name{color:var(--brand)}

/* gallery skeleton */
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:20px;margin-top:8px}
.card-skeleton{border:1px solid var(--line);background:#fff;border-radius:16px;padding:12px;display:flex;flex-direction:column;gap:12px;position:relative;overflow:hidden}
.card-skeleton .placeholder{background:#eef2f7;border-radius:6px}
.card-skeleton .ph-image{height:160px;border-radius:12px}
.card-skeleton .ph-title{height:20px;width:85%}
.card-skeleton .ph-text{height:16px;width:50%}
@keyframes shimmer{100%{transform:translateX(100%)}}
.card-skeleton::after{content:'';position:absolute;inset:0;transform:translateX(-100%);background:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.5),hsla(0,0%,100%,0));animation:shimmer 1.5s infinite}

/* drawer */
.drawer{position:fixed;inset:0;display:none;z-index:40}
.drawer.open{display:block}
.back{position:absolute;inset:0;background:transparent}
.panel{position:absolute;width:280px;background:#fff;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.15);border:1px solid var(--line);padding:8px;overflow:auto;max-height:calc(100vh - 80px)}
.panel h4{margin:6px 8px 8px;font:700 14px/1.2 Inter,system-ui}
.panel nav a{display:block;padding:10px 12px;border-radius:8px;color:var(--ink);text-decoration:none;font-weight:500;font-size:14px}
.panel nav a:hover{background:#f3f4f6}
.panel nav a[aria-current="page"]{background:#111827;color:#fff}
</style>
</head>
<body>

<header class="header-outer">
  <div class="page-section page-section--fluid header-row">
    <div class="header-left">
      <a class="brand" href="./">RGZTEC</a>
      <button id="btnCats" class="btn-cats" aria-haspopup="dialog">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
        <span>Categories</span>
      </button>
    </div>

    <div class="search-wrap">
      <form class="search" role="search" action="listings.html">
        <input type="search" name="q" placeholder="Search for anything" aria-label="Search"/>
        <button class="go" type="submit" aria-label="Search">
          <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="6" stroke="currentColor"/><path d="M16.5 16.5 21 21" stroke="currentColor"/></svg>
        </button>
      </form>
    </div>

    <div class="hdr-right">
      <a href="#" class="signin-link">Sign in</a>
      <button class="icon-btn" title="Gift">üéÅ</button>
      <button class="icon-btn" title="Cart">üõí</button>
      <a class="pill-open" href="open-store.html">Open Store</a>
    </div>
  </div>
</header>

<main class="page-section page-section--fluid section-container">
  <h2 class="section-h" id="pageTitle">All Products</h2>
  <div class="grid" id="gallery">
    <div class="card-skeleton"><div class="placeholder ph-image"></div><div class="placeholder ph-title"></div><div class="placeholder ph-text"></div></div>
    <div class="card-skeleton"><div class="placeholder ph-image"></div><div class="placeholder ph-title"></div><div class="placeholder ph-text"></div></div>
    <div class="card-skeleton"><div class="placeholder ph-image"></div><div class="placeholder ph-title"></div><div class="placeholder ph-text"></div></div>
    <div class="card-skeleton"><div class="placeholder ph-image"></div><div class="placeholder ph-title"></div><div class="placeholder ph-text"></div></div>
    <div class="card-skeleton"><div class="placeholder ph-image"></div><div class="placeholder ph-title"></div><div class="placeholder ph-text"></div></div>
    <div class="card-skeleton"><div class="placeholder ph-image"></div><div class="placeholder ph-title"></div><div class="placeholder ph-text"></div></div>
    <div class="card-skeleton"><div class="placeholder ph-image"></div><div class="placeholder ph-title"></div><div class="placeholder ph-text"></div></div>
    <div class="card-skeleton"><div class="placeholder ph-image"></div><div class="placeholder ph-title"></div><div class="placeholder ph-text"></div></div>
    <div class="card-skeleton"><div class="placeholder ph-image"></div><div class="placeholder ph-title"></div><div class="placeholder ph-text"></div></div>
    <div class="card-skeleton"><div class="placeholder ph-image"></div><div class="placeholder ph-title"></div><div class="placeholder ph-text"></div></div>
    <div class="card-skeleton"><div class="placeholder ph-image"></div><div class="placeholder ph-title"></div><div class="placeholder ph-text"></div></div>
    <div class="card-skeleton"><div class="placeholder ph-image"></div><div class="placeholder ph-title"></div><div class="placeholder ph-text"></div></div>
  </div>
</main>

<!-- Drawer -->
<div id="drawer" class="drawer" aria-hidden="true">
  <div class="back" id="backdrop"></div>
  <aside class="panel" role="dialog" aria-label="Categories">
    <h4 id="drawerTitle">Categories</h4>
    <nav id="drawerMenu"></nav>
  </aside>
</div>

<script>
/* ---------- Store info (showcases/sections) ---------- */
const STORE_INFO = {
  "html-templates": {
    name: "HTML Templates",
    tagline: "Polished HTML/CSS templates and starters.",
    categories: ["Landing Pages","Portfolio","Admin & Dashboards","E-commerce","Email Templates"]
  },
  "email-forge": {
    name: "Email Forge",
    tagline: "Responsive MJML templates and automation-focused email kits.",
    categories: ["Transactional","Marketing","Drip Flows","MJML Blocks","ESP Integrations"]
  },
  "icon-smith": {
    name: "Icon Smith",
    tagline: "Beautiful handcrafted icon packs for developers.",
    categories: ["Outline","Solid","3D","Flags","Brand"]
  },
  "ai-tools-hub": {
    name: "AI Tools Hub",
    tagline: "LLM-powered scripts and automation kits.",
    categories: ["Prompts","Agents","Integrations","Workflows","Analytics"]
  },
  "dev-studio-one": {
    name: "Dev Studio One",
    tagline: "Modern HTML, CSS and React starters.",
    categories: ["HTML Templates","React Components","Auth & API","Dashboards","E-commerce"]
  },
  "game-makers": {
    name: "Game Makers",
    tagline: "Unity & Unreal templates and game kits.",
    categories: ["Unity 2D","Unity 3D","Unreal","Controllers","VFX / SFX"]
  },
  "reactorium": {
    name: "Reactorium",
    tagline: "React components, tables and charts.",
    categories: ["UI Kit","Tables","Charts","Forms","Hooks"]
  },
  "tiny-js-lab": {
    name: "Tiny JS Lab",
    tagline: "Small but powerful JavaScript utilities.",
    categories: ["Dates","Validation","Fetch","Storage","DOM Utils"]
  },
  "unity-hub": {
    name: "Unity Hub",
    tagline: "Unity extensions, prefabs and templates.",
    categories: ["2D Platformer","FPS","Racing","Multiplayer","VR / AR"]
  },
  "wp-plugins": {
    name: "WP Plugins",
    tagline: "Production-ready WordPress plugins.",
    categories: ["SEO","Security","Performance","Forms","WooCommerce"]
  }
};

/* ---------- Params & helpers ---------- */
const $ = (s,r=document)=>r.querySelector(s);
const params = new URLSearchParams(location.search);
const currentStore = params.get('store'); // e.g. 'reactorium'
const currentTag   = params.get('tag');   // e.g. 'Tables'
const currentQ     = params.get('q');

const pageTitle = $('#pageTitle');
const drawerEl   = $('#drawer');
const panelEl    = drawerEl.querySelector('.panel');
const drawerMenu = $('#drawerMenu');
const drawerTitle= $('#drawerTitle');
const btnCats    = $('#btnCats');
const backdropEl = $('#backdrop');

const slugify = s => (s||'')
  .toLowerCase()
  .replace(/&/g,' and ')
  .replace(/[\/]+/g,' ')
  .replace(/[^a-z0-9\s-]/g,'')
  .trim()
  .replace(/\s+/g,'-');

/* ---------- Title / SEO ---------- */
(function updateHeading(){
  if (currentStore && STORE_INFO[currentStore]) {
    const storeName = STORE_INFO[currentStore].name;
    if (currentTag) {
      pageTitle.innerHTML = `${storeName} ‚Äî <span class="tag-name">${currentTag}</span>`;
      document.title = `RGZTEC ‚Ä¢ ${storeName}: ${currentTag}`;
    } else if (currentQ) {
      pageTitle.innerHTML = `${storeName} ‚Äî results for <span class="tag-name">${currentQ}</span>`;
      document.title = `RGZTEC ‚Ä¢ ${storeName}: ${currentQ}`;
    } else {
      pageTitle.textContent = storeName + ' ‚Äî All Sections';
      document.title = `RGZTEC ‚Ä¢ ${storeName}`;
    }
    return;
  }

  if (currentQ) {
    pageTitle.innerHTML = `Results for <span class="tag-name">${currentQ}</span>`;
    document.title = `RGZTEC ‚Ä¢ Search: ${currentQ}`;
  } else if (currentTag) {
    const norm = currentTag.replace(/-/g,' ').replace(/\b\w/g,c=>c.toUpperCase());
    pageTitle.innerHTML = `Results for <span class="tag-name">${norm}</span>`;
    document.title = `RGZTEC ‚Ä¢ ${norm}`;
  } else {
    pageTitle.textContent = 'All Products';
    document.title = 'RGZTEC ‚Ä¢ Listings';
  }
})();

/* ---------- Drawer menu (store sections OR global categories) ---------- */
function renderDrawerMenu(){
  if (!drawerMenu) return;

  if (currentStore && STORE_INFO[currentStore]) {
    const info = STORE_INFO[currentStore];
    drawerTitle.textContent = info.name + ' ‚Äî Sections';
    const items = (info.categories||[]).map(cat=>{
      const href = `listings.html?store=${encodeURIComponent(currentStore)}&tag=${encodeURIComponent(cat)}`;
      const active = currentTag && slugify(currentTag)===slugify(cat);
      return `<a href="${href}" ${active?'aria-current="page"':''}>${cat}</a>`;
    }).join('');
    drawerMenu.innerHTML = items || `<div style="color:#64748b;padding:8px 12px">No sections.</div>`;
    return;
  }

  drawerTitle.textContent = 'All Categories';
  const globalCats = [
    ['HTML Templates','html-templates'],
    ['React Components','react-components'],
    ['WordPress Plugins','wordpress-plugins'],
    ['AI Tools & Prompts','ai-tools'],
    ['Mobile Games','mobile-games'],
    ['Icons & Graphics','icons-graphics'],
    ['3D & AR/VR Models','3d-models'],
    ['Scripts & Code','scripts-code'],
    ['Audio & Sound Effects','audio'],
    ['Video Templates','video-templates'],
  ];
  drawerMenu.innerHTML = globalCats.map(([label,tag])=>{
    const href = `listings.html?tag=${encodeURIComponent(tag)}`;
    const active = params.get('tag') && slugify(params.get('tag'))===slugify(tag);
    return `<a href="${href}" ${active?'aria-current="page"':''}>${label}</a>`;
  }).join('') + `
    <a href="listings.html" style="font-weight:700;color:var(--brand);border-top:1px solid var(--line);margin-top:4px;padding-top:12px">All Categories ‚Üí</a>`;
}

/* ---------- Drawer open/close ---------- */
function openDrawer(){
  const r = btnCats.getBoundingClientRect();
  panelEl.style.top  = `${r.bottom + 8}px`;
  panelEl.style.left = `${r.left}px`;
  drawerEl.classList.add('open');
  drawerEl.setAttribute('aria-hidden','false');
}
function closeDrawer(){
  drawerEl.classList.remove('open');
  drawerEl.setAttribute('aria-hidden','true');
}
btnCats?.addEventListener('click',e=>{
  e.stopPropagation();
  if (drawerEl.classList.contains('open')) closeDrawer(); else openDrawer();
});
backdropEl?.addEventListener('click',closeDrawer);
window.addEventListener('keydown',e=>{ if(e.key==='Escape') closeDrawer(); });

/* init */
renderDrawerMenu();
document.getElementById('y')?.remove(); // safety if footer year exists in other layouts
</script>
</body>
</html>

