<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>RGZTEC • Premium Digital Marketplace</title>
<meta name="description" content="Discover unique products and open your store on RGZTEC."/>
<base href="/rgztec/">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Plus+Jakarta+Sans:wght@600;700;800&display=swap" rel="stylesheet">

<link rel="stylesheet" href="assets/css/theme-tokens.css?v=1">
<link rel="stylesheet" href="assets/css/store-core.css">

<style>
/* === PREMIUM MASTER CSS === */
:root {
  --brand: #f97316;
  --brand-h: #ea580c;
  --ink: #0f172a;
  --sub: #64748b;
  --border: #e2e8f0;
  --bg-body: #f8fafc;
  --header-h: 72px;
}

body { font-family: 'Inter', sans-serif; background-color: var(--bg-body); color: var(--ink); margin: 0; padding: 0; }
a { text-decoration: none; transition: all 0.2s ease; }
.container { max-width: 1440px; margin: 0 auto; padding: 0 24px; }

/* === HEADER === */
.app-header {
  background: rgba(255,255,255,0.95); backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 1000;
  height: var(--header-h); display: flex; align-items: center;
}
.header-inner { display: flex; align-items: center; justify-content: space-between; width: 100%; gap: 24px; }
.logo { font-family: 'Plus Jakarta Sans', sans-serif; font-weight: 800; font-size: 24px; color: var(--brand); letter-spacing: -0.02em; flex-shrink: 0; }

/* KRİTİK DÜZELTME: Kategori Butonu 
   Artık bir <a> (link) değil, <button type="button">.
   Böylece sayfa değişmeyecek.
*/
.btn-cat {
  display: flex; align-items: center; gap: 8px; font-weight: 600; font-size: 14px;
  color: var(--ink); background: transparent; border: 1px solid transparent;
  padding: 8px 14px; border-radius: 99px; cursor: pointer; transition: all 0.2s;
  outline: none;
}
.btn-cat:hover, .btn-cat.active { background: #f1f5f9; color: var(--brand); }
.btn-cat svg { width: 20px; height: 20px; stroke-width: 2; }

/* Arama */
.search-bar { flex: 1; max-width: 500px; position: relative; }
.search-input { width: 100%; height: 44px; background: #f1f5f9; border: 1px solid transparent; border-radius: 99px; padding: 0 48px 0 20px; font-size: 14px; color: var(--ink); }
.search-input:focus { background: #fff; border-color: var(--brand); box-shadow: 0 0 0 4px rgba(249, 115, 22, 0.1); outline: none; }
.search-btn { position: absolute; right: 6px; top: 6px; width: 32px; height: 32px; border-radius: 50%; background: var(--brand); border: none; color: #fff; display: grid; place-items: center; cursor: pointer; }
.nav-right { display: flex; align-items: center; gap: 20px; }
.nav-link { font-size: 14px; font-weight: 600; color: var(--sub); }
.nav-link:hover { color: var(--brand); }
.icon-action { width: 40px; height: 40px; border-radius: 50%; display: grid; place-items: center; color: var(--ink); border: 1px solid var(--border); background: #fff; }
.icon-action:hover { border-color: var(--brand); color: var(--brand); background: #fff7ed; }
.btn-open-store { background: var(--ink); color: #fff; padding: 10px 20px; border-radius: 99px; font-size: 14px; font-weight: 700; }
.btn-open-store:hover { background: var(--brand); }

/* === DAMLA MENÜ (Drop Animation) === */
.mega-menu-overlay {
  position: fixed; top: var(--header-h); left: 0; width: 100%; height: calc(100vh - var(--header-h));
  background: rgba(15,23,42,0.2); z-index: 900; 
  opacity: 0; visibility: hidden; transition: opacity 0.3s ease;
}
.mega-menu-overlay.open { opacity: 1; visibility: visible; }

.mega-menu-container {
  position: absolute; top: 10px; left: 24px; /* Logoya yakın hizalama */
  width: 900px; height: 500px; background: #fff; display: flex; 
  border: 1px solid var(--border); border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.12); overflow: hidden;
  
  /* DAMLA EFEKTİ */
  opacity: 0; transform: translateY(-15px) scale(0.98);
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}
.mega-menu-overlay.open .mega-menu-container { opacity: 1; transform: translateY(0) scale(1); }

.menu-sidebar { width: 280px; background: #f8fafc; border-right: 1px solid var(--border); padding: 16px; overflow-y: auto; }
.menu-store-item { padding: 10px 16px; font-size: 14px; font-weight: 600; color: var(--ink); cursor: pointer; display: flex; justify-content: space-between; align-items: center; border-radius: 8px; margin-bottom: 4px; transition: all 0.2s; }
.menu-store-item:hover, .menu-store-item.active { background: #fff; color: var(--brand); box-shadow: 0 2px 5px rgba(0,0,0,0.03); }

.menu-content { flex: 1; padding: 32px; overflow-y: auto; }
.menu-header h3 { font-family: 'Plus Jakarta Sans', sans-serif; font-size: 22px; font-weight: 800; margin: 0 0 8px; }
.menu-header p { color: var(--sub); margin-bottom: 24px; font-size: 14px; }
.menu-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
.menu-sub-item { display: block; padding: 12px 16px; border: 1px solid var(--border); border-radius: 10px; transition: all 0.2s; }
.menu-sub-item:hover { border-color: var(--brand); background: #fff7ed; transform: translateX(3px); }
.sub-title { display: block; font-weight: 700; color: var(--ink); margin-bottom: 2px; font-size: 14px; }
.sub-desc { display: block; font-size: 12px; color: var(--sub); }

/* === SUB NAV === */
.sub-nav { background: #fff; border-bottom: 1px solid var(--border); height: 52px; display: flex; align-items: center; overflow-x: auto; white-space: nowrap; }
.sub-nav-list { display: flex; gap: 32px; padding: 0 24px; margin: 0 auto; max-width: 1440px; }
.sub-nav-item a { font-size: 13px; font-weight: 600; color: var(--sub); display: flex; align-items: center; height: 52px; border-bottom: 2px solid transparent; }
.sub-nav-item a:hover { color: var(--brand); border-bottom-color: var(--brand); }

/* === HERO & BANNER === */
.hero { padding: 60px 0 40px; text-align: center; }
.hero-badge { display: inline-flex; align-items: center; gap: 6px; background: #fff; border: 1px solid var(--border); padding: 6px 16px; border-radius: 99px; font-size: 13px; font-weight: 600; color: var(--sub); margin-bottom: 24px; box-shadow: 0 2px 10px rgba(0,0,0,0.03); }
.hero h1 { font-family: 'Plus Jakarta Sans', sans-serif; font-size: clamp(32px, 4vw, 56px); font-weight: 800; letter-spacing: -0.02em; color: var(--ink); margin-bottom: 20px; line-height: 1.1; }
.hero-btns { display: flex; justify-content: center; gap: 16px; margin-top: 32px; }
.btn-primary { background: var(--brand); color: #fff; padding: 14px 32px; border-radius: 99px; font-weight: 700; box-shadow: 0 8px 20px rgba(249,115,22,0.25); }
.btn-outline { border: 1px solid var(--border); color: var(--ink); padding: 14px 32px; border-radius: 99px; font-weight: 700; background: #fff; }

.showcase-section { padding: 40px 0 80px; }
.showcase-inner { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; align-items: center; background: #fff; border: 1px solid var(--border); border-radius: 24px; padding: 40px; box-shadow: 0 20px 40px rgba(0,0,0,0.03); }
.showcase-content h2 { font-family: 'Plus Jakarta Sans', sans-serif; font-size: 32px; font-weight: 800; margin-bottom: 20px; line-height: 1.2; }
.showcase-content h2 span { color: var(--brand); }
.showcase-banner img { width: 100%; border-radius: 16px; box-shadow: 0 20px 50px rgba(0,0,0,0.1); }

/* === GALERİ === */
.gallery-title { font-family: 'Plus Jakarta Sans', sans-serif; font-size: 24px; font-weight: 700; margin-bottom: 32px; }
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 32px; margin-bottom: 80px; }

/* Hardware Full Width */
.card.full-width {
  grid-column: 1 / -1; display: grid; grid-template-columns: 1.2fr 0.8fr; height: 360px;
  background: #0f172a; border-radius: 24px; overflow: hidden; border: none;
  box-shadow: 0 20px 60px rgba(15,23,42,0.25);
}
.card.full-width .card-media { height: 100%; }
.card.full-width .card-content { background: #0f172a; justify-content: center; padding: 60px; }
.card.full-width .card-title { color: #fff; font-size: 36px; margin: 16px 0; }
.card.full-width .card-desc { color: #94a3b8; font-size: 18px; margin-bottom: 32px; }
.card.full-width .card-link { color: var(--brand); font-size: 16px; }

/* Normal Card */
.card { background: #fff; border: 1px solid var(--border); border-radius: 20px; overflow: hidden; transition: all 0.3s; display: flex; flex-direction: column; position: relative; }
.card:hover { transform: translateY(-6px); box-shadow: 0 15px 35px rgba(0,0,0,0.08); border-color: #cbd5e1; }
.card-media { height: 210px; background: #f1f5f9; overflow: hidden; }
.card-media img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s; }
.card:hover .card-media img { transform: scale(1.06); }
.card-content { padding: 24px; flex: 1; display: flex; flex-direction: column; }
.card-badge { font-size: 11px; font-weight: 700; text-transform: uppercase; color: var(--brand); letter-spacing: 1px; margin-bottom: 8px; }
.card-title { font-size: 18px; font-weight: 700; margin: 0 0 8px; color: var(--ink); font-family: 'Plus Jakarta Sans', sans-serif; }
.card-desc { font-size: 14px; color: var(--sub); line-height: 1.5; margin-bottom: 20px; }
.card-link { margin-top: auto; font-size: 14px; font-weight: 600; color: var(--ink); display: flex; align-items: center; gap: 6px; }
.card-link:hover { color: var(--brand); gap: 10px; }

/* Footer */
.footer { background: #0f172a; color: #94a3b8; padding: 80px 0 40px; font-size: 14px; }
.footer-cols { display: grid; grid-template-columns: repeat(4, 1fr); gap: 40px; margin-bottom: 60px; }
.footer h4 { color: #fff; font-size: 16px; margin-bottom: 20px; font-family: 'Plus Jakarta Sans', sans-serif; }
.footer a { display: block; color: #94a3b8; margin-bottom: 12px; }
.footer a:hover { color: #fff; }
.footer-bot { border-top: 1px solid #1e293b; padding-top: 30px; display: flex; justify-content: space-between; }

@media (max-width: 1024px) {
  .nav-right, .search-bar { display: none; }
  .showcase-inner { grid-template-columns: 1fr; }
  .showcase-banner { order: -1; }
  .card.full-width { grid-template-columns: 1fr; height: auto; }
  .card.full-width .card-media { height: 220px; }
  .mega-menu-container { width: 95%; left: 2.5%; }
}
</style>
</head>
<body>

<header class="app-header">
  <div class="container header-inner">
    <div style="display:flex; align-items:center; gap:24px;">
      <a href="./" class="logo">RGZTEC</a>
      
      <button class="btn-cat" id="btnCategories" type="button">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
        </svg>
        Categories
      </button>
    </div>
    
    <div class="search-bar">
      <input type="text" class="search-input" placeholder="Search marketplace...">
      <button class="search-btn"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" /></svg></button>
    </div>
    
    <div class="nav-right">
      <a href="editor/" class="nav-link">Dashboard</a>
      <a href="login/" class="nav-link">Sign In</a>
      <a href="gift-card.html" class="icon-action" aria-label="Gift"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 11.25v8.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5v-8.25M12 4.875A3.375 3.375 0 0012 1.5h-1.5a3.375 3.375 0 00-3.375 3.375H12Zm0 0V11.25m0-6.375H13.5A3.375 3.375 0 0113.5 1.5H12v3.375Z" /></svg></a>
      <a href="cart.html" class="icon-action" aria-label="Cart"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg></a>
      <a href="open-store.html" class="btn-open-store">Open Store</a>
    </div>
  </div>
</header>

<div class="mega-menu-overlay" id="megaMenu">
  <div class="mega-menu-container">
    <div class="menu-sidebar" id="menuSidebar"></div>
    <div class="menu-content" id="menuContent">
      <div class="menu-header">
        <h3 id="menuTitle">Select a Store</h3>
        <p id="menuDesc">Explore professional categories.</p>
      </div>
      <div class="menu-grid" id="menuGrid"></div>
    </div>
  </div>
</div>

<nav class="sub-nav">
  <div class="sub-nav-list" id="subNavList"></div>
</nav>

<section class="hero">
  <div class="container">
    <div class="hero-badge"><span>NEW</span> Hardware Lab is now live!</div>
    <h1>Build, buy, and sell<br>high-quality digital products.</h1>
    <p>Professional marketplace for templates, code, tools — now with curated hardware accessories.</p>
    <div class="hero-btns">
      <a href="#gallery" class="btn-primary">Browse Marketplace</a>
      <a href="become-seller.html" class="btn-outline">Start Selling</a>
    </div>
  </div>
</section>

<section class="showcase-section">
  <div class="container showcase-inner">
    <div class="showcase-content">
      <div style="font-size:12px; font-weight:700; color:#94a3b8; letter-spacing:1px; margin-bottom:10px;">#1 GLOBAL MARKETPLACE</div>
      <h2>Premium <span>digital & hardware</span> marketplace for creators.</h2>
      <p>RGZTEC brings together high-quality HTML templates, React components, AI tools, and now curated hardware.</p>
      <div class="showcase-features">
        <div class="feature-item"><h3>For buyers</h3><p>Instant access to assets.</p></div>
        <div class="feature-item"><h3>For sellers</h3><p>Reach a global audience.</p></div>
      </div>
      <a href="become-seller.html" style="font-weight:700; color:var(--brand); display:inline-flex; align-items:center; gap:6px;">Start selling on RGZTEC →</a>
    </div>
    <div class="showcase-banner">
      <img src="assets/images/banners/global-marketplace-banner.webp" alt="Global Marketplace Banner">
    </div>
  </div>
</section>

<main class="container gallery-section">
  <h2 class="gallery-title">Explore Stores</h2>
  <div id="gallery" class="grid"></div>
</main>

<footer class="footer">
  <div class="container">
    <div class="footer-cols">
      <div><h4>Shop</h4><a href="gift-card.html">Gift Cards</a><a href="#">Sitemap</a><a href="#">Featured Products</a></div>
      <div><h4>Sell</h4><a href="become-seller.html">Start Selling</a><a href="#">Teams</a><a href="#">Affiliates</a></div>
      <div><h4>Company</h4><a href="#">About RGZTEC</a><a href="#">Careers</a><a href="#">Legal</a></div>
      <div><h4>Support</h4><a href="mailto:support@rgztec.com">Help Center</a><a href="#">Contact Us</a></div>
    </div>
    <div class="footer-bot">
      <span>© 2025 RGZTEC, Inc.</span>
      <div><a href="#" style="margin-left:20px;">Privacy</a><a href="#" style="margin-left:20px;">Terms</a></div>
    </div>
  </div>
</footer>

<script>
const DATA_URL = "data/store.data.json";
const STORE_IMAGE_BASE = "assets/images/store/";

const gallery = document.getElementById('gallery');
const subNavList = document.getElementById('subNavList');
const menuSidebar = document.getElementById('menuSidebar');
const menuGrid = document.getElementById('menuGrid');
const menuTitle = document.getElementById('menuTitle');
const menuDesc = document.getElementById('menuDesc');
const btnCategories = document.getElementById('btnCategories');
const megaMenu = document.getElementById('megaMenu');

let storesData = {};

(async function init() {
  try {
    const res = await fetch(DATA_URL, { cache: "no-store" });
    if (!res.ok) throw new Error("Veri yüklenemedi");
    storesData = await res.json();
    renderApp();
  } catch (err) {
    console.error(err);
    if(gallery) gallery.innerHTML = "<p style='text-align:center'>Loading failed.</p>";
  }
})();

function getSortedSlugs() {
  const keys = Object.keys(storesData);
  const hwIndex = keys.indexOf('hardware');
  if (hwIndex > -1) {
    keys.splice(hwIndex, 1);
    keys.unshift('hardware');
  }
  return keys;
}

function renderApp() {
  const slugs = getSortedSlugs();
  
  // 1. Galeri
  let galleryHTML = '';
  slugs.forEach(slug => {
    const data = storesData[slug];
    const isFull = slug === 'hardware';
    const cardClass = isFull ? 'card full-width' : 'card';
    const href = `store/${slug}/`;
    const imgSrc = `${STORE_IMAGE_BASE}${slug}.webp`;
    
    galleryHTML += `
      <article class="${cardClass}">
        <a href="${href}" class="card-media"><img src="${imgSrc}" alt="${data.title}" loading="lazy"></a>
        <div class="card-content">
          <span class="card-badge">Official Store</span>
          <h3 class="card-title">${data.title}</h3>
          <p class="card-desc">${data.tagline || ""}</p>
          <a href="${href}" class="card-link">Visit Store →</a>
        </div>
      </article>`;
  });
  gallery.innerHTML = galleryHTML;

  // 2. Sub Nav
  let navHTML = '';
  slugs.forEach(slug => {
    const style = slug === 'hardware' ? 'style="color:var(--brand);"' : '';
    navHTML += `<div class="sub-nav-item"><a href="store/${slug}/" ${style}>${storesData[slug].title}</a></div>`;
  });
  subNavList.innerHTML = navHTML;

  // 3. Mega Menu Sidebar
  let sidebarHTML = '';
  slugs.forEach(slug => {
    sidebarHTML += `<div class="menu-store-item" onclick="selectStore('${slug}')" data-slug="${slug}">
      <span>${storesData[slug].title}</span>
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
    </div>`;
  });
  menuSidebar.innerHTML = sidebarHTML;
}

// Menü Seçim
window.selectStore = function(slug) {
  document.querySelectorAll('.menu-store-item').forEach(el => el.classList.remove('active'));
  const active = document.querySelector(`.menu-store-item[data-slug="${slug}"]`);
  if(active) active.classList.add('active');

  const data = storesData[slug];
  menuTitle.textContent = data.title;
  menuDesc.textContent = data.tagline;

  let gridHTML = '';
  if (data.sections) {
    data.sections.forEach(sec => {
      const href = `store/${slug}/${sec.slug}/`;
      gridHTML += `<a href="${href}" class="menu-sub-item"><span class="sub-title">${sec.name}</span><span class="sub-desc">Browse</span></a>`;
    });
  }
  gridHTML += `<a href="store/${slug}/" class="menu-sub-item" style="background:#f8fafc;justify-content:center;display:flex;"><span class="sub-title" style="color:var(--brand);">View All →</span></a>`;
  menuGrid.innerHTML = gridHTML;
};

// Toggle
btnCategories.addEventListener('click', (e) => {
  e.stopPropagation();
  const isOpen = megaMenu.classList.contains('open');
  if (isOpen) {
    megaMenu.classList.remove('open');
    btnCategories.classList.remove('active');
  } else {
    megaMenu.classList.add('open');
    btnCategories.classList.add('active');
    // Opsiyonel: İlk açılışta boş gelsin istersen bunu sil
    // selectStore('hardware'); 
  }
});

document.addEventListener('click', (e) => {
  if (!megaMenu.contains(e.target) && !btnCategories.contains(e.target)) {
    megaMenu.classList.remove('open');
    btnCategories.classList.remove('active');
  }
});
</script>

</body>
</html>
