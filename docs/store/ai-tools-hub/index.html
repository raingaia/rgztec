<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RGZTEC • AI Tools Hub</title>

  <meta name="rgz-base" content="" />

  <script>
    (function () {
      // 1) Base resolve (/rgztec veya root)
      function resolveBase() {
        const meta = document.querySelector('meta[name="rgz-base"]');
        if (meta && meta.content != null) return String(meta.content).trim().replace(/\/+$/, "");
        const p = location.pathname || "/";
        return p.includes("/rgztec/") ? "/rgztec" : "";
      }

      const BASE = resolveBase();
      const withBase = (p) => (BASE ? `${BASE}${p}` : p);

      window.RGZ_BASE = BASE;
      window.RGZ_WITH_BASE = withBase;

      // 2) data-path AUTO (URL'den slug al)
      // /store/ai-tools-hub/  => ai-tools-hub
      const path = (location.pathname || "/").replace(/\/+$/, "");
      const parts = path.split("/").filter(Boolean);
      const slug = parts[parts.length - 1] || "home";
      document.addEventListener("DOMContentLoaded", () => {
        document.body.setAttribute("data-path", slug);
        // console.log("[STORE] data-path =", slug, "BASE =", BASE);
      });

      // 3) store-core.css (sadece store’un kendi CSS’i)
      const css = document.createElement("link");
      css.rel = "stylesheet";
      css.href = withBase("/assets/css/store-core.css?v=1");
      css.onerror = () => console.error("CSS 404:", css.href);
      document.head.appendChild(css);
    })();
  </script>
</head>

<body class="store-body">
  <div id="store-root"></div>

  <script>
    (function () {
      const withBase = window.RGZ_WITH_BASE || ((p) => p);
      const root = document.getElementById("store-root");

      // Minimal fallback: eğer shell patlarsa boş kalmasın
      const fallback = document.createElement("div");
      fallback.style.maxWidth = "1440px";
      fallback.style.margin = "18px auto";
      fallback.style.padding = "0 24px";
      fallback.style.color = "#64748b";
      fallback.style.fontFamily = "system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif";
      fallback.style.fontWeight = "700";
      fallback.textContent = "Loading…";
      document.body.insertBefore(fallback, root);

      const s = document.createElement("script");
      s.defer = true;
      s.src = withBase("/assets/js/store-shell.js?v=1");

      s.onload = () => {
        // Shell bir şey render edince fallback'i kaldır
        setTimeout(() => {
          if (root && root.children && root.children.length > 0) fallback.remove();
          else fallback.textContent = "Store failed to render (check console).";
        }, 80);
      };

      s.onerror = () => {
        fallback.textContent = "store-shell.js not found. Check deploy paths.";
      };

      document.body.appendChild(s);
    })();
  </script>
</body>
</html>





