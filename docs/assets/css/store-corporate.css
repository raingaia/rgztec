/* ===========================================================
   RGZTEC • Store Corporate (final v6)
   Kapsam: store.html?slug=...  (yalnızca body[data-store] sayfaları)
   =========================================================== */

/* ---------- Temel değişkenler ---------- */
body[data-store]{
  /* HOME ile hizalı ölçüler */
  --wrap:1100px;           /* içerik genişliği */
  --rail-w:980px;          /* arama rayı üst sınırı */
  --search-h:52px;         /* arama yüksekliği */

  /* hatlar/renkler */
  --line:#e5e7eb;
  --line-strong:#cbd5e1;
  --brand:#f97316;
  --brand-dark:#ea580c;
  --ink:#111827;

  /* sticky konumlar */
  --header-h:64px;         /* topbar yüksekliği */
  --hero-mask:56px;        /* hero üst fade */

  /* hero ambient */
  --amb-lilac:#efe8ff;
  --amb-peach:#ffe6d5;
  --amb-sky:#e7f3ff;
}

/* ===========================================================
   HEADER (HOME ile eşleşen düzen)
   =========================================================== */
body[data-store] .topbar{
  position:sticky; top:0; z-index:100;
  background:rgba(255,255,255,.85) !important;
  -webkit-backdrop-filter:saturate(120%) blur(8px);
  backdrop-filter:saturate(120%) blur(8px);
  border-bottom:1px solid var(--line);
  box-shadow:0 1px 6px rgba(15,23,42,.05);
  isolation:isolate;
  overflow:visible;
}
body[data-store] .topbar *{ mix-blend-mode:normal; }

body[data-store] .wrap{
  max-width:var(--wrap);
  margin:0 auto;
  padding:8px 16px;
}
body[data-store] .hdr{
  display:grid;
  grid-template-columns:auto minmax(0,var(--rail-w)) auto; /* sol logo, ortada arama, sağ ikonlar */
  align-items:center;
  column-gap:12px;
}
body[data-store] .rail{ min-width:0; } /* kritik: taşmayı engeller */

/* Arama: HOME stili */
body[data-store] .search{
  width:100%;
  max-width:var(--rail-w);
  height:var(--search-h);
  display:flex; align-items:center; gap:10px;
  padding:0 10px 0 16px;
  border:2px solid #111827; border-radius:999px; background:#fff;
}
body[data-store] .search input{
  flex:1; min-width:0; border:0; outline:0;
  font-size:16px; padding:12px 10px; background:transparent;
}
body[data-store] .search button{
  display:grid; place-items:center;
  width:38px; height:38px; border-radius:999px;
  border:0; background:var(--brand); cursor:pointer;
  transition:transform .12s, filter .12s;
}
body[data-store] .search button:hover{ transform:translateY(-1px); filter:brightness(.95); }
body[data-store] .search svg{ width:18px; height:18px; stroke:#fff; stroke-width:2; fill:none }

/* Küçük hizalama düzeltmeleri (ikona piling) */
body[data-store] .icons{ display:flex; align-items:center; gap:12px; }

/* ===========================================================
   KATEGORİ ŞERİDİ (tek çizgi, metin link)
   =========================================================== */
body[data-store] .cats-wrap{
  position:sticky; top:var(--header-h); z-index:90;
  background:#fff !important;
  border-bottom:0;                      /* çift çizgiyi kapat */
  box-shadow:none;
}

/* Tam viewport alt çizgi (yarım çizgi sorununu bitirir) */
body[data-store] .cats-wrap::after{
  content:"";
  position:absolute; left:50%; right:50%; bottom:0;
  margin-left:-50vw; margin-right:-50vw;
  height:1px; background:var(--line);
  pointer-events:none;
}

body[data-store] .store-bar{
  max-width:var(--wrap); margin:0 auto; padding:0 16px;
  display:grid; grid-auto-flow:column; grid-auto-columns:max-content;
  gap:24px; overflow-x:auto; -webkit-overflow-scrolling:touch;
  border-bottom:0; background:#fff;
  scroll-snap-type:x proximity;
}
body[data-store] .store-bar a{
  padding:0 !important;
  height:44px !important; line-height:44px !important;
  border:0 !important; background:transparent !important; border-radius:0 !important;
  color:var(--ink) !important; font-weight:700; text-decoration:none;
  transition:color .15s;
  white-space:nowrap;
  scroll-snap-align:start;
}
body[data-store] .store-bar a:hover{ color:var(--brand-dark) !important; text-decoration:underline; }

/* ===========================================================
   HERO (ambient gradient + beyaza fade)
   =========================================================== */
body[data-store] .hero{
  position:relative; z-index:0;
  background:
    radial-gradient(60% 120% at 10% 0%, var(--amb-lilac) 0%, rgba(239,232,255,0) 60%),
    radial-gradient(60% 100% at 100% 80%, var(--amb-peach) 0%, rgba(255,230,213,0) 60%),
    radial-gradient(50% 80% at 30% 100%, var(--amb-sky) 0%, rgba(231,243,255,0) 60%),
    #fff !important;
}
body[data-store] .hero .hero-inner{ padding-top:12px; }
body[data-store] .hero::before{
  content:"";
  position:absolute; inset:0 0 auto 0; height:var(--hero-mask);
  background:linear-gradient(#fff, rgba(255,255,255,0));
  pointer-events:none; z-index:1;
}

/* ===========================================================
   ÜRÜN KARTLARI (16:9 + shimmer skeleton)
   =========================================================== */
body[data-store] .card .media{
  position:relative; width:100%; aspect-ratio:16/9;
  background:linear-gradient(90deg,#eef2f7 25%,#f5f7fa 37%,#eef2f7 63%);
  background-size:400% 100%;
  animation:shimmer 1.2s ease-in-out infinite;
  border-bottom:1px solid var(--line);
}
@keyframes shimmer{ 0%{background-position:200% 0} 100%{background-position:-200% 0} }
body[data-store] .card .media.loaded{ animation:none; background:#fff }
body[data-store] .card .media img{
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block;
}
/* Görsel düşerse kırık ikon/alt yazıyı gizle */
body[data-store] .card .media img[src=""],
body[data-store] .card .media img:not([src]){ display:none !important }

/* ===========================================================
   Responsive
   =========================================================== */
@media (max-width:1180px){
  body[data-store]{ --rail-w:780px; }
}
@media (max-width:900px){
  body[data-store]{
    --header-h:56px; --hero-mask:48px; --rail-w:100%;
  }
  body[data-store] .hdr{ grid-template-columns:1fr; }
  body[data-store] .search{ max-width:100%; height:44px; }
  body[data-store] .search button{ width:36px; height:36px; }
}
