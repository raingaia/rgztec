<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>RGZTEC ‚Ä¢ Store</title>

<style>
  :root{
    /* ‚Äî‚Äî‚Äî Sabit geni≈ülikler ‚Äî‚Äî‚Äî */
    --wrap:    1280px;   /* sayfa ana geni≈ülik */
    --searchw: 840px;    /* ARAMA + KATEGORƒ∞ bandƒ± geni≈üliƒüi (dar ve sabit) */

    /* ‚Äî‚Äî‚Äî Renkler ‚Äî‚Äî‚Äî */
    --text:#111827; --icon:#6b7280; --hover:#0b0b0b; --line:#e5e7eb;
    --line-strong:#cbd5e1;
    --rgztec:#f97316; --rgztec-dark:#ea580c;
    --studio-bg:#22c3dc; /* maƒüaza pili (stores.json varsa onun rengi baskƒ±n gelir) */
  }

  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:#fff}

  /* ===== HEADER ===== */
  .topbar{background:#fff}
  .wrap{max-width:var(--wrap); margin:0 auto; padding:12px 18px 0}

  /* Arama ortada sabit s√ºtun; kayma sƒ±fƒ±r */
  .hdr{
    display:grid;
    grid-template-columns: 1fr minmax(0, var(--searchw)) 1fr;
    align-items:center;
    gap:16px;
  }

  /* Sol grup: RGZTEC + pill */
  .left{ grid-column:1; justify-self:start; display:flex; align-items:center; gap:10px }
  .brand{ font-weight:900; font-size:24px; color:var(--rgztec); text-decoration:none }
  .studio{
    white-space:nowrap; line-height:1;
    font-weight:800; font-size:15px; color:#fff;
    background:var(--studio-bg);
    padding:6px 12px; border-radius:999px;
    display:inline-flex; align-items:center;
    box-shadow:0 2px 0 rgba(0,0,0,.06), inset 0 -2px 0 rgba(0,0,0,.12);
    transform:translateY(2px);
  }

  /* Orta: Arama (geni≈ülik ortadaki sabit s√ºtundan gelir) */
  .search{
    grid-column:2;
    width:100%; max-width:100%;
    display:flex; align-items:center; gap:10px;
    height:56px; padding:6px 8px 6px 16px;
    border:2px solid #111827; border-radius:999px; background:#fff;
  }
  .search input{ flex:1; border:0; outline:0; font-size:16px; padding:10px 6px }
  .search button{
    display:grid; place-items:center; width:40px; height:40px; border-radius:999px;
    border:0; background:var(--rgztec); cursor:pointer; transition:transform .12s, filter .12s;
  }
  .search button:hover{ transform:translateY(-1px); filter:brightness(.95) }
  .search svg{ width:20px; height:20px; stroke:#fff; stroke-width:2; fill:none }

  /* Saƒü: Aksiyonlar */
  .icons{ grid-column:3; justify-self:end; display:flex; gap:14px; align-items:center }
  .icons a{ text-decoration:none; color:var(--icon); font-size:16px }
  .open-store{
    background:var(--rgztec); color:#fff !important; font-weight:700;
    padding:8px 18px; border-radius:999px; height:40px;
    display:inline-flex; align-items:center; white-space:nowrap;
    box-shadow:0 2px 4px rgba(0,0,0,.08); transition:all .2s;
  }
  .open-store:hover{ background:var(--rgztec-dark); transform:translateY(-1px) }

  /* ===== KATEGORƒ∞: aramayla aynƒ± geni≈ülik, tek belirgin √ßizgi ===== */
  .cats-wrap{ max-width:var(--wrap); margin:0 auto; padding:0 18px }
  .store-bar{
    --cols:5;                               /* JS ger√ßek sayƒ±ya √ßevirir */
    width:100%; max-width:var(--searchw);
    margin:6px auto 0;                      /* aramayla 6px bo≈üluk */
    height:44px; padding:0;
    display:grid; grid-template-columns:repeat(var(--cols),1fr);
    align-items:center; justify-items:center;
    border-bottom:2px solid var(--line-strong);
  }
  .store-bar a{
    width:100%; text-align:center;
    font-size:15px; font-weight:600; letter-spacing:.1px;
    line-height:44px; color:var(--text); text-decoration:none;
    transition:color .15s;
  }
  .store-bar a:hover{ color:var(--hover) }

  /* ===== ƒ∞√ßerik ===== */
  main{ max-width:var(--wrap); margin:16px auto; padding:0 18px }
  .empty{ display:none; }

  /* ===== Responsive ===== */
  @media (max-width:900px){
    :root{ --searchw: 100% }                  /* mobilde tam geni≈ülik */
    .hdr{ grid-template-columns:1fr; row-gap:10px }
    .icons a:not(.open-store){ display:none }
    .search{ justify-self:stretch }
    .store-bar{
      max-width:100%; grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
      height:auto;
    }
    .store-bar a{ line-height:38px }
  }
</style>
</head>
<body>

<header class="topbar">
  <div class="wrap">
    <div class="hdr">
      <!-- Sol: RGZTEC + yapƒ±≈üƒ±k maƒüaza pili -->
      <div class="left">
        <a class="brand" href="./">RGZTEC</a>
        <span id="studioName" class="studio">Store</span>
      </div>

      <!-- Orta: Search -->
      <form class="search" onsubmit="return false;">
        <input id="q" type="search" placeholder="Search for anything" aria-label="Search"/>
        <button type="submit" aria-label="Search" id="qBtn">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <circle cx="11" cy="11" r="6"></circle>
            <line x1="16.5" y1="16.5" x2="21" y2="21"></line>
          </svg>
        </button>
      </form>

      <!-- Saƒü: Aksiyonlar -->
      <nav class="icons" aria-label="Quick actions">
        <a href="login" aria-label="Sign in">Sign in</a>
        <a href="#" title="Gifts" aria-label="Gifts">üéÅ</a>
        <a href="cart" title="Cart" aria-label="Cart">üõí</a>
        <a href="become-seller" class="open-store" aria-label="Open your store">Open Store</a>
      </nav>
    </div>
  </div>
</header>

<!-- KATEGORƒ∞LER (tam arama geni≈üliƒüi) -->
<div class="cats-wrap">
  <nav id="storeBar" class="store-bar" aria-label="Store Categories"></nav>
</div>

<main>
  <p class="empty">Page content starts here‚Ä¶</p>
</main>

<script>
  const params = new URLSearchParams(location.search);
  const slug = (params.get('slug') || '').trim();

  const escapeHtml = (s='') => s.replace(/[&<>"']/g, m => ({
    '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'
  }[m]));

  (async function init(){
    if (!slug) return;

    try {
      /* 1) stores.json => ba≈ülƒ±k + renk */
      const sres = await fetch('data/stores.json', { cache:'no-store' });
      if (sres.ok){
        const { stores=[] } = await sres.json();
        const meta = stores.find(s => s.slug === slug);
        const pill = document.getElementById('studioName');

        if (meta){
          pill.textContent = meta.name || meta.slug;
          if (meta.color) pill.style.background = meta.color;  // maƒüaza rengi pill‚Äôe uygula
          document.title = `RGZTEC ‚Ä¢ ${meta.name || meta.slug}`;
        } else {
          pill.textContent = slug;
          document.title = `RGZTEC ‚Ä¢ ${slug}`;
        }
      }

      /* 2) store-content.json => kategoriler */
      const cres = await fetch('data/store-content.json', { cache:'no-store' });
      if (cres.ok){
        const content = await cres.json();
        const entry = content[slug] || {};
        const cats = Array.isArray(entry.categories) ? entry.categories : [];

        const bar = document.getElementById('storeBar');
        bar.innerHTML = cats.map(c => `<a href="#">${escapeHtml(c)}</a>`).join('');
        bar.style.setProperty('--cols', String(Math.max(1, cats.length))); // e≈üit kolon
      }
    } catch(e){ console.warn(e); }
  })();
</script>
</body>
</html>
