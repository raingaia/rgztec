<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>RGZTEC ‚Ä¢ Store</title>
<meta name="description" content="Store page with global header and per-store categories placed directly under the search bar."/>

<style>
  :root{
    --text:#111827; --icon:#6b7280; --hover:#0b0b0b; --line:#e5e7eb;
    --studio-bg:#1f2937; --rgztec:#f97316; --rgztec-dark:#ea580c;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:#fff}

  /* ===== GLOBAL HEADER (index.html ile aynƒ±) ===== */
  .topbar{background:#fff}
  .wrap{max-width:1200px;margin:0 auto;padding:10px 16px;display:flex;align-items:center;gap:16px}
  .brand{font-weight:800;font-size:22px;color:var(--rgztec);text-decoration:none}
  .studio{font-weight:600;font-size:16px;background:var(--studio-bg);color:#fff;padding:4px 10px;border-radius:8px;line-height:1}
  .search{flex:1;display:flex;gap:8px;max-width:760px;margin-left:6px;border:2px solid #111827;border-radius:999px;padding:6px 8px 6px 12px;background:#fff}
  .search input{flex:1;border:0;outline:0;font-size:15px;padding:6px 8px}
  .search button{border:0;background:none;color:var(--icon);font-size:16px;cursor:pointer;padding:0 10px}
  .icons{display:flex;gap:14px;align-items:center}
  .icons a{text-decoration:none;color:var(--icon);font-size:16px}
  .open-store{background:var(--rgztec);color:#fff !important;font-weight:600;padding:7px 18px;border-radius:999px;
              box-shadow:0 2px 4px rgba(0,0,0,.1);transition:all .2s}
  .open-store:hover{background:var(--rgztec-dark);transform:translateY(-1px);box-shadow:0 4px 6px rgba(0,0,0,.15)}

  /* Search √ßubuƒüu ile kategori barƒ± arasƒ±ndaki mesafeyi kƒ±salt */
  .topbar .wrap { padding-bottom: 6px; }

  /* ===== STORE CATEGORIES BAR (search altƒ±ndaki ince bant) ===== */
  .store-bar{
    max-width:1200px;
    margin:2px auto 0;                /* √ºst bo≈üluk ‚Üì */
    padding:8px 16px;                 /* bant y√ºksekliƒüi */
    display:flex; justify-content:center; flex-wrap:wrap; gap:28px;
    border-top:1px solid var(--line);  /* ince √ºst √ßizgi */
    border-bottom:1px solid var(--line);
    background:#fff;
  }
  .store-bar a{
    color:var(--text);
    text-decoration:none;
    font-weight:600;
    font-size:14px;
    position:relative;
    padding:6px 4px;                  /* dikey ritim */
    transition:.2s;
  }
  .store-bar a::after{
    content:"";
    position:absolute; left:0; right:0; bottom:-3px;
    height:2px; background:transparent; transition:.2s;
  }
  .store-bar a:hover::after{ background:var(--hover); }

  /* ƒ∞√ßerik placeholder ‚Äì ≈üimdilik bo≈ü */
  main{max-width:1200px;margin:16px auto;padding:0 16px}
  .empty{color:#6b7280;font-size:14px}
</style>
</head>
<body>

<!-- ===== GLOBAL HEADER ===== -->
<header class="topbar">
  <div class="wrap">
    <a class="brand" href="./">RGZTEC</a>

    <!-- slug‚Äôa g√∂re adƒ±/renk deƒüi≈üen pill -->
    <span id="studioName" class="studio">Dev One Studio</span>

    <form class="search" onsubmit="return false;">
      <input id="q" type="search" placeholder="Search for anything" aria-label="Search"/>
      <button type="submit" aria-label="Search" id="qBtn">üîç</button>
    </form>

    <nav class="icons" aria-label="Quick actions">
      <a href="login" aria-label="Sign in">Sign in</a>
      <a href="#" title="Gifts" aria-label="Gifts">üéÅ</a>
      <a href="cart" title="Cart" aria-label="Cart">üõí</a>
      <a href="become-seller" class="open-store" aria-label="Open your store">Open Store</a>
    </nav>
  </div>
</header>

<!-- ===== STORE CATEGORIES (search altƒ±ndaki √ßizgi alanƒ±) ===== -->
<nav id="storeBar" class="store-bar" aria-label="Store Categories"></nav>

<!-- ===== ≈ûimdilik bo≈ü i√ßerik alanƒ± ===== -->
<main>
  <p class="empty">Page content starts here‚Ä¶</p>
</main>

<script>
  // URL param
  const params = new URLSearchParams(location.search);
  const storeSlug = (params.get('slug') || '').trim();

  // escape helper
  const escapeHtml = (s='') => s.replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));

  (async function init(){
    if (!storeSlug) return;

    try {
      // 1) stores.json -> pill title + color
      const sres = await fetch('data/stores.json', { cache: 'no-store' });
      if (sres.ok){
        const { stores=[] } = await sres.json();
        const meta = stores.find(s => s.slug === storeSlug);
        if (meta){
          const el = document.getElementById('studioName');
          el.textContent = meta.name || meta.slug;
          if (meta.color) el.style.background = meta.color;
          document.title = `RGZTEC ‚Ä¢ ${meta.name || meta.slug}`;
        } else {
          document.getElementById('studioName').textContent = storeSlug;
          document.title = `RGZTEC ‚Ä¢ ${storeSlug}`;
        }
      }

      // 2) store-content.json -> store categories
      const cres = await fetch('data/store-content.json', { cache: 'no-store' });
      if (cres.ok){
        const content = await cres.json();
        const entry = content[storeSlug] || {};
        const cats = Array.isArray(entry.categories) ? entry.categories : [];
        document.getElementById('storeBar').innerHTML =
          cats.map(c => `<a href="#">${escapeHtml(c)}</a>`).join('');
      }
    } catch (e) {
      console.warn(e);
    }
  })();
</script>
</body>
</html>
