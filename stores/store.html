<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <base href="/rgztec/">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Store · RGZTEC</title>
  <meta name="description" content="Browse a developer’s store on RGZTEC. Filter by stack, search products, preview demos, and copy code instantly." />
  <link rel="stylesheet" href="assets/css/home.css" />
  <style>
    :root{
      --brand:#ff7d33; --brand2:#ff914d; --brand-ink:#fff;
      --bg:#f7f8fb; --ink:#0d1220; --muted:#5b657a;
      --b:#e7ebf3; --b2:#dfe4ee; --shadow:0 14px 40px rgba(0,0,0,.08);
      --tile:#fff7f2;
    }
    header{position:sticky;top:0;background:#fff;border-bottom:1px solid var(--b);z-index:10}
    .container{max-width:1100px;margin:0 auto;padding:0 18px}
    .mast{display:flex;gap:12px;align-items:center;padding:10px 0}
    .btn{display:inline-flex;gap:10px;align-items:center;justify-content:center;padding:10px 14px;border:1px solid var(--b2);border-radius:12px;background:#fff;font-weight:800;cursor:pointer;transition:transform .08s ease, box-shadow .08s ease, background-color .12s ease;}
    .btn:hover{transform:translateY(-1px);box-shadow:var(--shadow)}
    .btn.primary{background:linear-gradient(180deg,var(--brand2),var(--brand));color:#fff;border-color:#ff8a3f}
    .btn.ghost{background:#fff}
    .searchbar{display:flex;gap:8px;align-items:center;flex:1}
    .searchbar input{height:42px;border:1px solid var(--b);border-radius:12px;padding:0 14px;background:#fff;flex:1}
    .searchbar button{height:42px}

    /* Breadcrumb */
    .crumbs{font-size:14px;color:var(--muted);display:flex;gap:6px;align-items:center;padding:8px 0}
    .crumbs a{color:inherit;text-decoration:none}
    .crumbs span{opacity:.7}

    /* Banner */
    .hero{border:1px solid var(--b);border-radius:16px;overflow:hidden;box-shadow:var(--shadow);background:#fff;margin-bottom:12px}
    .banner{
      aspect-ratio: 21/8;
      background-image: radial-gradient(1200px 400px at 20% -30%, #fff 0, #fff 45%, #fff6 65%, #fff0 100%),
                        linear-gradient(180deg,#fff,#fff);
    }
    .banner img{width:100%;height:100%;object-fit:cover;display:block}
    .hero-bar{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;padding:14px 16px;background:linear-gradient(180deg,#fff,#fff6);border-top:1px solid var(--b)}
    .title{font-weight:900;font-size:clamp(22px,3vw,30px)}
    .muted{color:var(--muted)}
    .tags{display:flex;gap:6px;flex-wrap:wrap;margin-top:6px}
    .pill{display:inline-flex;align-items:center;border:1px solid var(--b);border-radius:999px;padding:4px 10px;font-size:12px}
    .actions{display:flex;gap:8px;flex-wrap:wrap}

    /* Controls below hero */
    .controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin:14px 0}
    .chip{display:inline-flex;align-items:center;border:1px solid var(--b);background:#fff;border-radius:999px;padding:8px 12px;font-weight:800;font-size:13px;cursor:pointer}
    .chip.active{background:var(--tile);border-color:#ffc8a6}
    .select{height:40px;border:1px solid var(--b);border-radius:10px;padding:0 10px;background:#fff}
    .count{color:var(--muted);font-weight:700}
    .tip{background:linear-gradient(180deg,var(--brand2),var(--brand));color:#fff;border-radius:14px;padding:10px 12px;display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}

    /* Product grid */
    .grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}
    .card{background:#fff;border:1px solid var(--b);border-radius:16px;overflow:hidden;box-shadow:var(--shadow);display:flex;flex-direction:column;transition:transform .08s ease, box-shadow .08s ease}
    .card:hover{transform:translateY(-2px);box-shadow:0 18px 44px rgba(0,0,0,.09)}
    .thumb{aspect-ratio:16/9;background:#f2f3f6}
    .thumb img{width:100%;height:100%;object-fit:cover}
    .body{padding:12px;display:grid;gap:8px;grid-auto-rows:min-content}
    .meta{display:flex;gap:6px;flex-wrap:wrap}
    .price{font-weight:900}
    .cta{margin-top:auto;display:flex;gap:8px;flex-wrap:wrap}

    .notfound{border:1px dashed var(--b2);border-radius:12px;padding:16px;background:#fff}
    footer{padding:20px 0 30px}
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="container mast">
      <a class="btn" href="index.html">RGZTEC</a>
      <form class="searchbar" action="products/index.html">
        <input type="search" name="q" placeholder="Search templates, UI kits, widgets…" aria-label="Search site"/>
        <button class="btn" type="submit">Search</button>
      </form>
      <nav class="top-nav" style="display:flex;gap:8px;flex-wrap:wrap">
        <a class="btn ghost" href="products/index.html">Explore</a>
        <a class="btn ghost" href="demo/index.html">Demo Gallery</a>
        <a class="btn ghost" href="stores/index.html">Stores</a>
        <a class="btn ghost" href="login.html">Login</a>
        <a class="btn primary" href="stores/create.html">Become a Seller</a>
      </nav>
    </div>
  </header>

  <main class="container" id="root">
    <!-- Breadcrumb -->
    <nav class="crumbs">
      <a href="index.html">Home</a> <span>›</span>
      <a href="stores/index.html">Stores</a> <span>›</span>
      <span id="crumbStore">Store</span>
    </nav>

    <!-- HERO -->
    <section class="hero" id="hero" hidden>
      <div class="banner">
        <img id="bannerImg" src="" alt="">
      </div>
      <div class="hero-bar">
        <div>
          <div class="title" id="storeTitle">Store</div>
          <div class="tags" id="storeTags"></div>
          <div class="tags muted" id="storeMeta" style="margin-top:6px"></div>
        </div>
        <div class="actions">
          <button class="btn" id="btnFollow" type="button">Follow</button>
          <button class="btn" id="btnShare" type="button">Share</button>
          <a class="btn" id="btnWebsite" target="_blank" rel="noopener">Open website</a>
        </div>
      </div>
    </section>

    <!-- CONTROLS -->
    <div id="controls" hidden>
      <div class="tip"><small>Tip: Press <b>/</b> to focus search • Click a stack to filter within this store</small><span class="count" id="productCount">0 items</span></div>
      <div class="controls">
        <button class="chip" data-stack="all">All</button>
        <button class="chip" data-stack="html">HTML</button>
        <button class="chip" data-stack="js">JS</button>
        <button class="chip" data-stack="css">CSS</button>
        <button class="chip" data-stack="react">React</button>
        <button class="chip" data-stack="icons">Icons</button>
        <button class="chip" data-stack="email">Email</button>
        <button class="chip" data-stack="free">Free</button>

        <div style="flex:1"></div>

        <input id="q" type="search" placeholder="Search in this store…" class="select" style="min-width:260px">
        <select id="sort" class="select">
          <option value="featured">Featured</option>
          <option value="newest">Newest</option>
          <option value="price">Price (low→high)</option>
          <option value="name">Name A–Z</option>
        </select>
      </div>
    </div>

    <!-- GRID -->
    <section id="content"></section>
  </main>

  <footer class="container">
    <nav class="row" style="gap:14px">
      <a href="index.html">Home</a> ·
      <a href="products/index.html">Catalog</a> ·
      <a href="stores/index.html">Stores</a> ·
      <a href="products/index.html?cat=free#freebies">Freebies</a> ·
      <a href="contact.html">Contact</a> ·
      <a href="terms.html">Privacy</a>
    </nav>
    <p class="muted" style="margin:8px 0 0">© 2025 RGZTEC — All rights reserved.</p>
  </footer>

  <script>
    // -------------------- Data --------------------
    const PLACEHOLDER_BANNER = 'images/stores/placeholder.webp';
    const PLACEHOLDER_THUMB  = 'images/catalog/placeholder.webp';

    const STORES = {
      "pixel-foundry": {
        slug:"pixel-foundry", name:"Pixel Foundry",
        stacks:["html","css"], items:42, since:2021, rating:4.8, trust:"Top seller",
        website:"https://example.com/",
        banner:"images/stores/pixel-foundry-banner.webp"
      },
      "widget-labs": {
        slug:"widget-labs", name:"Widget Labs",
        stacks:["js","html"], items:18, since:2022, rating:4.9, trust:"Trusted",
        website:"https://example.com/",
        banner:"images/stores/widget-labs-banner.webp"
      },
      "react-craft": {
        slug:"react-craft", name:"React Craft",
        stacks:["react","html"], items:12, since:2023, rating:4.7, trust:"—",
        website:"https://example.com/",
        banner:"images/stores/react-craft-banner.webp"
      },
      "style-forge": {
        slug:"style-forge", name:"Style Forge",
        stacks:["css","html"], items:15, since:2020, rating:4.6, trust:"—",
        website:"https://example.com/",
        banner:"images/stores/style-forge-banner.webp"
      },
      "vector-supply": {
        slug:"vector-supply", name:"Vector Supply",
        stacks:["icons"], items:23, since:2019, rating:4.5, trust:"Trusted",
        website:"https://example.com/",
        banner:"images/stores/vector-supply-banner.webp"
      },
      "mailbox-co": {
        slug:"mailbox-co", name:"MailBox Co.",
        stacks:["email","html"], items:9, since:2024, rating:4.6, trust:"—",
        website:"https://example.com/",
        banner:"images/stores/mailbox-co-banner.webp"
      }
    };

    // Basit örnek ürün listeleri (slug -> items)
    const PRODUCTS = {
      "pixel-foundry": [
        {id:1,  slug:"landing-starter-html", title:"Landing Starter (HTML)", desc:"Hero, features, pricing, blog.", price:18, cat:"html", thumb:"images/catalog/html1.webp"},
        {id:2,  slug:"dashboard-lite-html",   title:"Dashboard Lite (HTML)",  desc:"Sidebar+topbar & chart placeholders.", price:24, cat:"js",   thumb:"images/catalog/html2.webp"},
        {id:3,  slug:"portfolio-mini",        title:"Portfolio Mini",         desc:"Single-page portfolio + contact.",    price:14, cat:"html", thumb:"images/catalog/html3.webp"},
        {id:4,  slug:"blog-lite",             title:"Blog Lite",              desc:"List + single post layout.",         price:12, cat:"html", thumb:"images/catalog/html4.webp"},
        {id:9,  slug:"pricing-tables",        title:"Pricing Tables",         desc:"Clean pricing blocks with CTA.",     price:8,  cat:"html", thumb:"images/catalog/html9.webp"},
      ],
      "widget-labs": [
        {id:20, slug:"js-widgets",            title:"JS Widgets",             desc:"Tabs, accordions, tooltips.",        price:11, cat:"js",   thumb:"images/catalog/html20.webp"},
        {id:11, slug:"faq-mini",              title:"FAQ Mini",               desc:"Accordion FAQ with search.",         price:6,  cat:"html", thumb:"images/catalog/html11.webp"},
        {id:8,  slug:"product-list",          title:"Product List",           desc:"Filterable grid/row list.",          price:11, cat:"html", thumb:"images/catalog/html8.webp"},
        {id:10, slug:"contact-lite",          title:"Contact Lite",           desc:"Form, map placeholder.",              price:7,  cat:"html", thumb:"images/catalog/html10.webp"},
      ],
      "react-craft": [
        {id:17, slug:"react-components",      title:"React Components",       desc:"Cards, modals, tabs (markup).",      price:15, cat:"react",thumb:"images/catalog/html17.webp"},
        {id:102,slug:"react-starter-free",    title:"React Starter (Free)",   desc:"Minimal React shell.",               price:0,  cat:"free", thumb:"images/catalog/html17.webp"},
        {id:6,  slug:"e-commerce-mini",       title:"E-commerce Mini",        desc:"Product grid & detail.",             price:22, cat:"html", thumb:"images/catalog/html6.webp"},
      ],
      "style-forge": [
        {id:9,  slug:"pricing-tables",        title:"Pricing Tables",         desc:"3–4 col pricing with feature.",      price:8,  cat:"html", thumb:"images/catalog/html9.webp"},
        {id:5,  slug:"agency-starter",        title:"Agency Starter",         desc:"Services: cards, testimonials.",     price:16, cat:"html", thumb:"images/catalog/html5.webp"},
        {id:12, slug:"gallery-grid",          title:"Gallery Grid",           desc:"Masonry/grid gallery.",              price:13, cat:"html", thumb:"images/catalog/html12.webp"},
        {id:7,  slug:"resume-card",           title:"Resume Card",            desc:"Single-page resume.",                price:9,  cat:"html", thumb:"images/catalog/html7.webp"},
      ],
      "vector-supply": [
        {id:18, slug:"svg-icons",             title:"SVG Icons",              desc:"Inlineable dev icon set.",           price:6,  cat:"icons",thumb:"images/catalog/html18.webp"},
        {id:103,slug:"icons-free-pack",       title:"Free Icons Pack",        desc:"Basic outline icons.",               price:0,  cat:"free", thumb:"images/catalog/html18.webp"},
      ],
      "mailbox-co": [
        {id:19, slug:"email-templates",       title:"Email Templates",        desc:"Transactional starter set.",         price:9,  cat:"email",thumb:"images/catalog/html19.webp"},
        {id:104,slug:"email-free",            title:"Free Email Template",    desc:"Responsive transactional base.",     price:0,  cat:"free", thumb:"images/catalog/html19.webp"},
        {id:3,  slug:"portfolio-mini",        title:"Portfolio Mini",         desc:"One-page portfolio & contact.",      price:14, cat:"html", thumb:"images/catalog/html3.webp"},
      ]
    };

    // ---------------- Helpers ----------------
    const $ = (s, r=document)=> r.querySelector(s);
    const $$ = (s, r=document)=> [...r.querySelectorAll(s)];

    // Global state (URL’e senkron)
    const state = { stack:'all', q:'', sort:'featured', slug:null, followed:false };

    // Image fallback: webp -> png -> jpg -> placeholder
    document.addEventListener('error', (e)=>{
      const img = e.target;
      if (img.tagName !== 'IMG') return;
      const src = img.getAttribute('src') || '';
      if (src.endsWith('.webp')) { img.src = src.replace(/\.webp$/i, '.png'); return; }
      if (src.endsWith('.png'))  { img.src = src.replace(/\.png$/i,  '.jpg'); return; }
      img.onerror = null;
      img.src = img.dataset.fallback || (img.classList.contains('thumb-img') ? PLACEHOLDER_THUMB : PLACEHOLDER_BANNER);
    }, true);

    function setActiveChip(stack){ $$('.chip').forEach(c=> c.classList.toggle('active', c.dataset.stack===stack)); }
    function syncUrl(){
      const url = new URL(location.href);
      if (state.stack && state.stack!=='all') url.searchParams.set('stack',state.stack); else url.searchParams.delete('stack');
      if (state.q) url.searchParams.set('q',state.q); else url.searchParams.delete('q');
      if (state.sort && state.sort!=='featured') url.searchParams.set('sort',state.sort); else url.searchParams.delete('sort');
      history.replaceState(null,'',url);
    }

    // ---------------- Render store ----------------
    function renderStore(store){
      $('#hero').hidden = false;
      $('#controls').hidden = false;

      $('#crumbStore').textContent = store.name;
      $('#storeTitle').textContent = store.name;

      const tags = store.stacks.map(s=>`<span class="pill">${s.toUpperCase()}</span>`).join(' ');
      $('#storeTags').innerHTML = tags;

      $('#storeMeta').innerHTML = `
        <span class="pill">Since ${store.since}</span>
        <span class="pill">★ ${store.rating}</span>
        ${store.trust && store.trust!=='—' ? `<span class="pill">${store.trust}</span>`:''}
      `;

      const img = $('#bannerImg');
      img.alt = `${store.name} banner`;
      img.src = store.banner || PLACEHOLDER_BANNER;

      const btnWebsite = $('#btnWebsite');
      btnWebsite.href = store.website || '#';

      const btnFollow = $('#btnFollow');
      btnFollow.addEventListener('click', ()=>{
        state.followed = !state.followed;
        btnFollow.textContent = state.followed ? 'Following ✓' : 'Follow';
      });

      $('#btnShare').addEventListener('click', async ()=>{
        try{
          if (navigator.share){
            await navigator.share({title:store.name, text:'Check this store on RGZTEC', url:location.href});
          }else{
            await navigator.clipboard.writeText(location.href);
            alert('Link copied!');
          }
        }catch(_){}
      });
    }

    // ---------------- Products ----------------
    function productCard(p){
      const price = p.price>0 ? `$${p.price}` : 'Free';
      const addLabel = p.price>0 ? 'Add' : 'Download';
      return `
        <article class="card">
          <a class="thumb" href="products/detail.html?id=${p.id}&slug=${p.slug}">
            <img class="thumb-img" src="${p.thumb || PLACEHOLDER_THUMB}" alt="${p.title}">
          </a>
          <div class="body">
            <div class="title">${p.title}</div>
            <div class="muted" style="min-height:40px">${p.desc||''}</div>
            <div class="meta">
              <span class="pill">${p.cat.toUpperCase()}</span>
              <span class="price">${price}</span>
            </div>
            <div class="cta">
              <a class="btn" href="demo/index.html?item=${p.id}&slug=${p.slug}" target="_blank" rel="noopener">Preview</a>
              <a class="btn" href="products/detail.html?id=${p.id}&slug=${p.slug}">Details</a>
              <a class="btn primary" href="${p.price>0 ? `cart.html?add=${p.id}` : `products/detail.html?id=${p.id}&slug=${p.slug}#download`}">${addLabel}</a>
            </div>
          </div>
        </article>
      `;
    }

    function applyProducts(){
      let rows = [...(PRODUCTS[state.slug] || [])];

      // stack
      if (state.stack && state.stack!=='all'){
        rows = rows.filter(p =>
          (state.stack==='free') ? p.price===0 : p.cat===state.stack
        );
      }

      // q
      const q = state.q.trim().toLowerCase();
      if (q){
        rows = rows.filter(p => (p.title+p.desc).toLowerCase().includes(q));
      }

      // sort
      const sort = state.sort || 'featured';
      const by = {
        featured:(a,b)=> (b.price===0)-(a.price===0) || a.title.localeCompare(b.title),
        newest:  (a,b)=> (b.id-a.id) || a.title.localeCompare(b.title),
        price:   (a,b)=> (a.price-b.price) || a.title.localeCompare(b.title),
        name:    (a,b)=> a.title.localeCompare(b.title),
      }[sort];
      rows.sort(by);

      // render
      const grid = document.createElement('div'); grid.className='grid';
      grid.innerHTML = rows.map(productCard).join('');
      const content = $('#content');
      content.innerHTML = '';
      content.appendChild(grid);

      $('#productCount').textContent = `${rows.length} ${rows.length===1?'item':'items'}`;
    }

    // ---------------- Boot ----------------
    function notFound(){
      $('#hero').hidden = true;
      $('#controls').hidden = true;
      $('#content').innerHTML = `
        <div class="notfound">
          <div class="title" style="margin-bottom:6px">Store not found</div>
          <p class="muted">We couldn't find this store. It may have moved or the slug is wrong.</p>
          <p><a class="btn" href="stores/index.html">Back to Stores</a></p>
        </div>
      `;
    }

    function wireControls(){
      // URL’den init
      const url = new URL(location.href);
      state.slug  = url.searchParams.get('slug') || '';
      state.stack = url.searchParams.get('stack') || 'all';
      state.q     = url.searchParams.get('q') || '';
      state.sort  = url.searchParams.get('sort') || 'featured';

      // chips
      setActiveChip(state.stack);
      $$('.chip').forEach(ch=>{
        ch.addEventListener('click',()=>{
          state.stack = ch.dataset.stack;
          setActiveChip(state.stack);
          syncUrl(); applyProducts();
        });
      });

      // search
      $('#q').value = state.q;
      $('#q').addEventListener('input', e=>{
        state.q = e.target.value;
        syncUrl(); applyProducts();
      });

      // sort
      $('#sort').value = state.sort;
      $('#sort').addEventListener('change', e=>{
        state.sort = e.target.value;
        syncUrl(); applyProducts();
      });

      // "/" kısayolu
      window.addEventListener('keydown',(e)=>{
        if(e.key==='/' && !/input|textarea|select/i.test(document.activeElement.tagName)){
          e.preventDefault(); $('#q').focus();
        }
      });
    }

    (function init(){
      wireControls();

      const store = STORES[state.slug];
      if(!store){ notFound(); return; }

      renderStore(store);
      applyProducts();
    })();
  </script>
</body>
</html>
