/* ===========================================================
   RGZTEC • Store Corporate (clean, final)
   Kapsam: store.html?slug=...  (yalnızca body[data-store] sayfaları)
   =========================================================== */

:root{
  /* Yumuşak gradient tonları */
  --amb-lilac:#efe8ff;
  --amb-peach:#ffe6d5;
  --amb-sky:#e7f3ff;

  --text:#111827;
  --rgztec-dark:#ea580c;
  --line:#e5e7eb;
  --line-strong:#cbd5e1;

  /* Header ve hero geçiş ölçüleri */
  --header-h: 64px;
  --hero-mask: 56px;

  /* Arama maksimum genişlik (masaüstü) */
  --search-max: 920px;
  --wrap: 1280px;
}

/* ========== HEADER (sabit beyaz & uyumlu hizalama) ========== */
body[data-store] .topbar{
  position: sticky;
  top: 0;
  z-index: 100;
  background:#fff !important;
  border-bottom:1px solid var(--line);
  box-shadow:0 1px 6px rgba(15,23,42,.05);
  isolation:isolate;
  overflow:hidden;
}
body[data-store] .topbar *{ mix-blend-mode: normal; }

/* Header ızgarası ve arama barı (home ile hizalı) */
body[data-store] .wrap{ max-width:var(--wrap); margin:0 auto; padding:12px 18px 0; }

body[data-store] .hdr{
  display:grid;
  /* solda marka, ortada arama (akışkan), sağda ikonlar */
  grid-template-columns: auto minmax(0, 1fr) auto;
  align-items:center;
  column-gap:16px;
}

/* Arama kolonunun daralmasına izin ver (kritik) */
body[data-store] .rail{ min-width:0; }

body[data-store] .search{
  width:100% !important;
  max-width:var(--search-max);
  display:flex; align-items:center; gap:10px;
  height:44px; padding:6px 8px 6px 16px;
  border:2px solid #111827; border-radius:999px; background:#fff;
}
body[data-store] .search input{ flex:1; border:0; outline:0; font-size:15px; padding:8px 6px }
body[data-store] .search button{
  display:grid; place-items:center; width:34px; height:34px; border-radius:999px;
  border:0; background:var(--rgztec-dark); cursor:pointer; transition:transform .12s, filter .12s;
}
body[data-store] .search button:hover{ transform:translateY(-1px); filter:brightness(.95) }
body[data-store] .search svg{ width:18px; height:18px; stroke:#fff; stroke-width:2; fill:none }

/* ========== KATEGORİ ŞERİDİ (header altı tek çizgi, taşma yok) ========== */
body[data-store] .cats-wrap{
  position: sticky;
  top: var(--header-h);
  z-index: 90;
  background:#fff !important;
  border-bottom: none !important;          /* çift çizgiyi kapat */
  box-shadow: inset 0 -1px 0 var(--line);  /* tek çizgi */
  overflow: visible;
}

/* store-bar’ın kendi çizgisini kapat; yatay kaydırma serbest */
body[data-store] .store-bar{
  display:grid; grid-auto-flow:column; grid-auto-columns:max-content;
  gap:28px; border:0 !important;
  -webkit-overflow-scrolling:touch; scroll-snap-type:x proximity;
  overflow-x:auto;
  padding:0 18px;
  background:#fff;
}
body[data-store] .store-bar a{
  padding:0 !important;
  height:44px !important; line-height:44px !important;
  border:none !important; background:transparent !important; border-radius:0 !important;
  color:var(--text) !important; font-weight:700; text-decoration:none;
  transition:color .15s;
}
body[data-store] .store-bar a:hover{
  color:var(--rgztec-dark) !important; text-decoration:underline;
}

/* ========== HERO (kurumsal gradient + beyaza fade) ========== */
body[data-store] .hero{
  position:relative; z-index:0;
  background:
    radial-gradient(60% 120% at 10% 0%, var(--amb-lilac) 0%, rgba(239,232,255,0) 60%),
    radial-gradient(60% 100% at 100% 80%, var(--amb-peach) 0%, rgba(255,230,213,0) 60%),
    radial-gradient(50% 80% at 30% 100%, var(--amb-sky) 0%, rgba(231,243,255,0) 60%),
    #fff !important;
}
body[data-store] .hero .hero-inner{ padding-top: calc(12px + var(--hero-mask)); }
body[data-store] .hero::before{
  content:"";
  position:absolute; left:0; right:0; top:0;
  height: var(--hero-mask);
  background: linear-gradient(#fff, rgba(255,255,255,0));
  pointer-events:none; z-index:1;
}

/* ========== KART GÖRSELLERİ (16:9, shimmer skeleton) ========== */
body[data-store] .card .media{
  position:relative; width:100%; aspect-ratio:16/9;
  background:linear-gradient(90deg,#eef2f7 25%,#f5f7fa 37%,#eef2f7 63%);
  background-size:400% 100%; animation:shimmer 1.2s ease-in-out infinite;
  border-bottom:1px solid var(--line);
}
@keyframes shimmer{ 0%{background-position:200% 0} 100%{background-position:-200% 0} }
body[data-store] .card .media.loaded{ animation:none; background:#fff }
body[data-store] .card .media img{
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block;
}
body[data-store] .card .media img[src=""],
body[data-store] .card .media img:not([src]){ display:none !important }

/* ========== Responsive ========== */
@media (max-width:1180px){
  :root{ --search-max: 780px; }
}
@media (max-width:900px){
  :root{ --header-h:56px; --hero-mask:48px; --search-max: 100%; }
  body[data-store] .hdr{ grid-template-columns:1fr; }
}
/* ========= RGZTEC • Store header = HOME match (drop-in) ========= */
/* Sadece store.html?slug=... sayfalarında çalışsın */
body[data-store]{
  --wrap: 1100px;           /* HOME ile aynı içerik genişliği  */
  --rail-w: 980px;          /* HOME arama ray genişliği        */
  --search-h: 52px;         /* HOME arama yüksekliği           */
  --line: #e5e7eb;
  --line-strong:#d7dbe3;
  --brand:#f97316;
  --header-h: 64px;
}

/* 1) Topbar: yarı şeffaf + blur, tek alt çizgi */
body[data-store] .topbar{
  position: sticky; top: 0; z-index: 100;
  background: rgba(255,255,255,.85) !important;
  backdrop-filter: saturate(120%) blur(8px);
  border-bottom: 1px solid var(--line);
  box-shadow: 0 1px 6px rgba(15,23,42,.05);
  isolation: isolate;
}

/* 2) İçerik genişliği ve header ızgarası */
body[data-store] .wrap{ max-width: var(--wrap); margin: 0 auto; padding: 8px 16px; }
body[data-store] .hdr{
  display: grid;
  grid-template-columns: auto minmax(0, var(--rail-w)) auto; /* sol logo, ortada arama, sağ ikonlar */
  align-items: center;
  column-gap: 12px;
}
body[data-store] .rail{ min-width: 0; } /* arama rayı daralabilsin */

/* 3) Arama çubuğu HOME ile aynı ölçü ve stil */
body[data-store] .search{
  width: 100%; max-width: var(--rail-w);
  height: var(--search-h);
  display: flex; align-items: center; gap: 10px;
  padding: 0 10px 0 16px;
  border: 2px solid #111827; border-radius: 999px; background: #fff;
}
body[data-store] .search input{
  flex: 1; min-width: 0; border: 0; outline: 0;
  font-size: 16px; padding: 12px 10px; background: transparent;
}
body[data-store] .search button{
  display: grid; place-items: center;
  width: 38px; height: 38px; border-radius: 999px;
  border: 0; background: var(--brand); cursor: pointer;
  transition: transform .12s, filter .12s;
}
body[data-store] .search button:hover{ transform: translateY(-1px); filter: brightness(.95); }
body[data-store] .search svg{ width: 18px; height: 18px; stroke: #fff; stroke-width: 2; fill: none; }

/* 4) Kategori şeridi: tek çizgi, wrap’a hizalı, taşmayan metin link */
body[data-store] .cats-wrap{
  position: sticky; top: var(--header-h); z-index: 90;
  background: #fff !important;
  border-bottom: 0;                   /* çift çizgiyi engelle */
  box-shadow: inset 0 -1px 0 var(--line); /* tek, tam genişlik çizgi */
}
body[data-store] .store-bar{
  max-width: var(--wrap); margin: 0 auto; padding: 0 16px;
  display: grid; grid-auto-flow: column; grid-auto-columns: max-content;
  gap: 24px; overflow-x: auto; -webkit-overflow-scrolling: touch;
  border-bottom: 0; background: #fff;
}
body[data-store] .store-bar a{
  padding: 0 !important; height: 44px !important; line-height: 44px !important;
  border: 0 !important; background: transparent !important; border-radius: 0 !important;
  color: #111827 !important; font-weight: 700; text-decoration: none;
}
body[data-store] .store-bar a:hover{ color: #ea580c !important; text-decoration: underline; }

/* 5) Hero: üstteki çizgiyle çakışmasın, nazik fade */
body[data-store] .hero{ position: relative; z-index: 0; }
body[data-store] .hero .hero-inner{ padding-top: 12px; }
body[data-store] .hero::before{
  content: ""; position: absolute; left: 0; right: 0; top: 0; height: 56px;
  background: linear-gradient(#fff, rgba(255,255,255,0)); pointer-events: none; z-index: 1;
}

/* 6) Kart görselleri (16:9 + shimmer) — mevcut stilin temiz uyumu */
body[data-store] .card .media{
  position: relative; width: 100%; aspect-ratio: 16/9;
  background: linear-gradient(90deg,#eef2f7 25%,#f5f7fa 37%,#eef2f7 63%);
  background-size: 400% 100%; animation: shimmer 1.2s ease-in-out infinite;
  border-bottom: 1px solid var(--line);
}
@keyframes shimmer{ 0%{background-position:200% 0} 100%{background-position:-200% 0} }
body[data-store] .card .media.loaded{ animation: none; background: #fff; }
body[data-store] .card .media img{
  position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; display: block;
}
body[data-store] .card .media img[src=""], body[data-store] .card .media img:not([src]){ display: none !important; }

/* 7) Mobil sıkılaştırma */
@media (max-width: 900px){
  body[data-store]{ --header-h: 56px; }
  body[data-store] .hdr{ grid-template-columns: 1fr; }
  body[data-store] .search{ max-width: 100%; height: 44px; }
  body[data-store] .search button{ width: 36px; height: 36px; }
  body[data-store] .search svg{ width: 18px; height: 18px; }
}
