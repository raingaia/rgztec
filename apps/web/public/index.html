<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>RGZTEC â€¢ Premium Digital Marketplace</title>
<meta name="description" content="Discover unique products and open your store on RGZTEC."/>
<base href="/rgztec/">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@600;700;800&display=swap" rel="stylesheet">

<link rel="stylesheet" href="assets/css/theme-tokens.css?v=1">
<link rel="stylesheet" href="assets/css/store-core.css">

<style>
/* ================================================================
Â  Â ðŸ”¥ RGZTEC PREMIUM MASTER CSS
Â  Â ================================================================ */

:root {
Â  --brand: #f97316; --brand-h: #ea580c; --ink: #0f172a; --ink-light: #334155;
Â  --sub: #64748b; --border: #e2e8f0; --bg: #ffffff; --bg-alt: #f8fafc;
Â  --radius: 12px; --shadow: 0 10px 40px -10px rgba(0,0,0,0.05);
}
body { font-family: 'Inter', sans-serif; background-color: var(--bg-alt); color: var(--ink); margin: 0; padding: 0; -webkit-font-smoothing: antialiased;}
a { text-decoration: none; transition: all 0.2s ease; }
.container { max-width: 1440px; margin: 0 auto; padding: 0 24px; }
.app-header { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 1000; height: 72px; display: flex; align-items: center; }
.header-inner { display: flex; align-items: center; justify-content: space-between; width: 100%; gap: 24px; }
.logo { font-family: 'Plus Jakarta Sans', sans-serif; font-weight: 800; font-size: 24px; color: var(--brand); letter-spacing: -0.03em; flex-shrink: 0; }
.btn-cat { display: flex; align-items: center; gap: 8px; font-weight: 600; font-size: 14px; color: var(--ink-light); background: transparent; border: 1px solid transparent; padding: 8px 12px; border-radius: 999px; cursor: pointer; }
.btn-cat:hover { background: #f1f5f9; color: var(--ink); }

/* Categories dropdown */
.categories-panel-wrap { position: absolute; top: 100%; left: 0; width: 420px; padding-top: 10px; pointer-events: none; opacity: 0; visibility: hidden; transition: opacity 200ms, visibility 200ms; }
.app-header.has-cat-open .categories-panel-wrap { opacity: 1; visibility: visible; pointer-events: auto; }
.categories-panel { position: relative; margin-left: 24px; background: #ffffff; border-radius: 22px; box-shadow: 0 22px 70px rgba(15,23,42,0.35), 0 0 0 1px rgba(148,163,184,0.25); max-height: 520px; overflow: hidden; transform: translateY(6px); transition: transform 200ms ease-out; }
.app-header.has-cat-open .categories-panel { transform: translateY(0); }
.categories-panel::before { content: ""; position: absolute; top: -10px; left: var(--cat-pointer-left, 110px); border-width: 0 10px 10px 10px; border-style: solid; border-color: transparent transparent #ffffff transparent; filter: drop-shadow(0 4px 6px rgba(15,23,42,0.18)); }
.categories-layout { display: grid; grid-template-columns: 1.25fr 1.5fr; min-height: 320px; }
.categories-detail { padding: 16px 18px 18px; border-left: 1px solid #e5e7eb; background: radial-gradient(circle at top left, #fff7ed 0, #f9fafb 55%, #eef2ff 100%); display: flex; flex-direction: column; gap: 10px; }
.categories-panel-header { padding: 10px 20px 4px; font-size: 11px; font-weight: 700; letter-spacing: 0.18em; text-transform: uppercase; color: #9ca3af; }
.categories-list { padding: 4px 0 10px; overflow-y: auto; max-height: 480px; }
.cat-item { width: 100%; text-align: left; padding: 10px 20px; font-size: 14px; border: 0; background: transparent; color: var(--ink); display: flex; align-items: center; justify-content: space-between; cursor: pointer; gap: 10px; }
.cat-item-main { display: flex; flex-direction: column; align-items: flex-start; }
.cat-item--active { background: #eef2ff; }
.cat-detail-links { margin-top: 6px; display: flex; flex-wrap: wrap; gap: 6px; }

/* Autocomplete/Search Bar Styles (YENÄ° EKLENEN) */
.autocomplete-box {
Â  Â  position: absolute;
Â  Â  z-index: 1001;
Â  Â  background: #fff;
Â  Â  border-radius: 12px;
Â  Â  box-shadow: 0 10px 40px -10px rgba(0,0,0,0.1), 0 0 0 1px #e2e8f0;
Â  Â  overflow: hidden;
Â  Â  display: none;
}
.ac-item {
Â  Â  display: flex; align-items: center; padding: 10px 15px; cursor: pointer; gap: 10px;
Â  Â  border-bottom: 1px solid #f1f5f9;
}
.ac-item:last-child { border-bottom: none; }
.ac-item:hover { background: #f8fafc; }
.ac-item img { width: 40px; height: 40px; object-fit: cover; border-radius: 6px; border: 1px solid #eee; }
.ac-item strong { font-size: 14px; font-weight: 600; display: block; }
.ac-item span { font-size: 12px; color: var(--sub); display: block; }

/* ... Kalan CSS'ler aynen devam ediyor ... */

.footer { background: #0f172a; color: #94a3b8; padding: 60px 0 30px; font-size: 14px; }
.footer-cols { display: grid; grid-template-columns: repeat(4, 1fr); gap: 40px; margin-bottom: 60px; }

/* Mobil Uyum */
@media (max-width: 1024px) {
Â  .nav-right { display: none; }
Â  .header-inner { padding: 0 16px; }
Â  .search-bar { display: none; }
Â  .categories-panel-wrap { width: 100%; }
Â  .categories-panel { margin-left: 8px; margin-right: 8px; }
}
@media (max-width: 768px) {
Â  .categories-layout { grid-template-columns: 1fr; }
Â  .categories-detail { border-left: 0; border-top: 1px solid #e5e7eb; }
}
</style>
</head>
<body>

<header class="app-header">
Â  <div class="container header-inner">
Â  Â  <div style="display:flex; align-items:center; gap:24px;">
Â  Â  Â  <a href="./" class="logo">RGZTEC</a>

Â  Â  Â  Â  Â  Â  <button type="button" class="btn-cat" id="btn-categories">
Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
Â  Â  Â  Â  Â  <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
Â  Â  Â  Â  </svg>
Â  Â  Â  Â  Categories
Â  Â  Â  </button>
Â  Â  </div>

Â  Â  <div class="search-bar">
Â  Â  Â  <input type="text" class="search-input" placeholder="Search marketplace...">
Â  Â  Â  <button class="search-btn">
Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
Â  Â  Â  Â  Â  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
Â  Â  Â  Â  </svg>
Â  Â  Â  </button>
Â  Â  </div>

Â  Â  <div class="nav-right">
Â  Â  Â  <a href="editor/" class="nav-link">Dashboard / Editor</a>
Â  Â  Â  <a href="login/" class="nav-link">Sign In</a>
Â  Â  Â  <a href="gift-card.html" class="icon-action" aria-label="Gift">
Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
Â  Â  Â  Â  Â  <path stroke-linecap="round" stroke-linejoin="round" d="M21 11.25v8.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5v-8.25M12 4.875A3.375 3.375 0 0012 1.5h-1.5a3.375 3.375 0 00-3.375 3.375H12Zm0 0V11.25m0-6.375H13.5A3.375 3.375 0 0113.5 1.5H12v3.375Z" />
Â  Â  Â  Â  </svg>
Â  Â  Â  </a>
Â  Â  Â  <a href="cart.html" class="icon-action" aria-label="Cart">
Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
Â  Â  Â  Â  Â  <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
Â  Â  Â  Â  </svg>
Â  Â  Â  </a>
Â  Â  Â  <a href="open-store.html" class="btn-open-store">Open Store</a>
Â  Â  </div>
Â  </div>

Â  Â  <div class="categories-panel-wrap" id="categories-panel">
Â  Â  <div class="categories-panel">
Â  Â  Â  <div class="categories-layout">
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  <div class="categories-panel-header">Browse by category</div>
Â  Â  Â  Â  Â  <div class="categories-list" id="categories-list"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="categories-detail" id="categories-detail">
Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>
</header>

<nav class="sub-nav">
Â  <div class="sub-nav-list">
Â  Â  Â  </div>
</nav>

<section class="hero">
Â  <div class="container">
Â  Â  <div class="hero-badge"><span>NEW</span> Hardware Lab is now live!</div>
Â  Â  <h1>Build, buy, and sell<br>high-quality digital products.</h1>
Â  Â  <p>Professional marketplace for templates, code, tools â€” now with curated hardware accessories for developers and makers.</p>
Â  Â  <div class="hero-btns">
Â  Â  Â  <a href="#gallery" class="btn-primary">Browse Marketplace</a>
Â  Â  Â  <a href="become-seller.html" class="btn-outline">Start Selling</a>
Â  Â  </div>
Â  Â  
Â  </div>
</section>

<section class="marketplace-banner-section">
Â  <div class="banner-inner">
Â  Â  <div class="banner-copy">
Â  Â  Â  <div class="banner-copy-eyebrow">#1 BEST SELLING GLOBAL MARKETPLACE</div>
Â  Â  Â  <h2>Premium <span>digital marketplace</span> for developers, designers & creators.</h2>
Â  Â  Â  <p>
Â  Â  Â  Â  RGZTEC brings together high-quality HTML templates, React components, AI tools,
Â  Â  Â  Â  WordPress plugins, games and curated hardware for modern builders.
Â  Â  Â  </p>
Â  Â  Â  <p class="banner-meta">
Â  Â  Â  Â  <strong>11+ curated stores</strong> across code, AI, design & hardware with instant digital delivery.
Â  Â  Â  </p>
Â  Â  </div>
Â  Â  <div class="banner-image">
Â  Â  Â  <img src="assets/images/banners/global-marketplace-banner.webp"
Â  Â  Â  Â  Â  Â alt="Global marketplace banner">
Â  Â  </div>
Â  </div>
</section>

<main class="container">
Â  Â  <div id="home-search-results" class="mt-12" style="display:none;">
Â  Â  Â  </div>

Â  <h2 class="gallery-title">Explore Stores</h2>
Â  <div id="gallery" class="grid"></div>
</main>

<footer class="footer">
Â  <div class="container">
Â  Â  <div class="footer-cols">
Â  Â  Â  <div>
Â  Â  Â  Â  <h4>Shop</h4>
Â  Â  Â  Â  <a href="gift-card.html">Gift Cards</a>
Â  Â  Â  Â  <a href="#">Sitemap</a>
Â  Â  Â  Â  <a href="#">Featured Products</a>
Â  Â  Â  </div>
Â  Â  Â  <div>
Â  Â  Â  Â  <h4>Sell</h4>
Â  Â  Â  Â  <a href="become-seller.html">Start Selling</a>
Â  Â  Â  Â  <a href="#">Teams</a>
Â  Â  Â  Â  <a href="#">Affiliates</a>
Â  Â  Â  </div>
Â  Â  Â  <div>
Â  Â  Â  Â  <h4>Company</h4>
Â  Â  Â  Â  <a href="#">About RGZTEC</a>
Â  Â  Â  Â  <a href="#">Careers</a>
Â  Â  Â  Â  <a href="#">Legal</a>
Â  Â  Â  </div>
Â  Â  Â  <div>
Â  Â  Â  Â  <h4>Support</h4>
Â  Â  Â  Â  <a href="mailto:support@rgztec.com">Help Center</a>
Â  Â  Â  Â  <a href="#">Contact Us</a>
Â  Â  Â  </div>
Â  Â  </div>
Â  Â  <div class="footer-bot">
Â  Â  Â  <span>Â© 2025 RGZTEC, Inc.</span>
Â  Â  Â  <div>
Â  Â  Â  Â  <a href="#" style="display:inline; margin-left:20px;">Privacy</a>
Â  Â  Â  Â  <a href="#" style="display:inline; margin-left:20px;">Terms</a>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>
</footer>

<script>
/* --- 1. GLOBAL VERÄ° VE ARAMA MANTIÄžI --- */

let RAW_DATA = {}; 
const STORE_IMAGE_BASE = 'assets/images/store/';
const PRODUCT_IMAGE_BASE = 'assets/images/products/';

// Snippet 2: RGZTEC_SEARCH tanÄ±mlamasÄ± (VERÄ° YAPISI DÃœZELTÄ°LDÄ°!)
window.RGZTEC_SEARCH = {
    data: null,

    async load() {
        if (this.data && this.data.length > 0) return this.data;

        try {
            const res = await fetch('store.data.json');
            const json = await res.json();
            
            // JSON nesnesinden maÄŸaza objelerini alÄ±p flat Ã¼rÃ¼n dizisi oluÅŸturuyoruz
            const storeObjects = Object.values(json);

            let products = [];
            storeObjects.forEach(store => {
                const storeTitle = store.title;
                const storeKey = Object.keys(json).find(key => json[key] === store);

                if (store.sections) {
                    store.sections.forEach(section => {
                        const sectionName = section.name;
                        if (section.products) {
                            section.products.forEach(product => {
                                products.push({
                                    // Arama ve GÃ¶sterim iÃ§in gerekli meta veriler
                                    store: storeTitle,
                                    section: sectionName,
                                    
                                    // Yollar
                                    image: product.image ? `${PRODUCT_IMAGE_BASE}${product.image}` : `assets/images/placeholder.webp`,
                                    href: `product/${product.id}`,
                                    
                                    // ÃœrÃ¼n detaylarÄ±
                                    ...product 
                                });
                            });
                        }
                    });
                }
            });
            this.data = products;
            return this.data;
        } catch(e) {
            console.error("Arama verisi yÃ¼klenemedi:", e);
            return [];
        }
    },

    async search(query) {
        query = query.toLowerCase().trim();
        if (!query) return [];

        const products = await this.load(); 
        if (products.length === 0) return []; 

        let results = [];
        
        products.forEach(product => {
            const haystack = `
                ${product.title}
                ${product.tagline || ''}
                ${product.section}
                ${product.store}
            `.toLowerCase();

            if (haystack.includes(query)) {
                results.push(product);
            }
        });

        return results;
    }
};

// Snippet 3: Arama sonuÃ§larÄ±nÄ± ana sayfada gÃ¶sterme fonksiyonu (ENTER'a basÄ±lÄ±nca)
window.renderSearchResultsOnHome = function(results, q) {
    const container = document.getElementById("home-search-results");
    const galleryContainer = document.getElementById("gallery");
    
    // EÄŸer arama sonuÃ§larÄ± gÃ¶sterilecekse ana galeri gizlenir
    galleryContainer.style.display = 'none';

    let html = `
Â  Â  Â  Â  <h2 class="gallery-title">Results for "${q}" (${results.length} found)</h2>
Â  Â  Â  Â  <div class="grid">
Â  Â  `;

    if (results.length === 0) {
        html += `<p style="padding: 20px 0; font-size: 1.1rem; color: var(--sub);">No results found for your search term. Try simplifying your query.</p>`;
    } else {
        results.forEach(p => {
            // NOTE: Buradaki kart yapÄ±sÄ±nÄ± main gallery kart yapÄ±sÄ± ile uyumlu hale getirdim.
            html += `
                <article class="card">
                    <a href="${p.href}" class="card-media">
                        <img src="${p.image}" alt="${p.title}" loading="lazy">
                    </a>
                    <div class="card-content">
                        <span class="card-badge">${p.store} â†’ ${p.section}</span>
                        <h3 class="card-title">${p.title}</h3>
                        <p class="card-desc">${p.tagline || 'No description provided.'}</p>
                        <a href="${p.href}" class="card-link">View ProductÂ  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" /></svg></a>
                    </div>
                </article>
            `;
        });
    }

    html += "</div>";

    container.innerHTML = html;
    container.style.display = "block";
};


/* --- 4. MEGA MENÃœ VE KART YÃœKLEME MANTIÄžI --- */
const listEl = document.getElementById('categories-list');
const subNavListEl = document.querySelector('.sub-nav-list');
const gallery = document.getElementById('gallery');
const btnCat = document.getElementById('btn-categories');
const catPanelWrap = document.getElementById('categories-panel');
const detailEl = document.getElementById('categories-detail');
const catPanel = catPanelWrap ? catPanelWrap.querySelector('.categories-panel') : null;


window.renderStoreCard = function(store) {
    const href = `store/${store.key}/`;
    const imgSrc = `${STORE_IMAGE_BASE}${store.key}.webp`;
    const isHardware = store.key === 'hardware';
    const extraClass = isHardware ? ' card--featured' : '';
    const badgeText = isHardware ? 'Hardware â€¢ NEW' : 'Official Store';

    return `
      <article class="card${extraClass}">
        <a href="${href}" class="card-media"><img src="${imgSrc}" alt="${store.title}" loading="lazy"></a>
        <div class="card-content">
          <span class="card-badge">${badgeText}</span>
          <h3 class="card-title">${store.title}</h3>
          <p class="card-desc">${store.tagline || 'A curated collection of digital assets.'}</p>
          <a href="${href}" class="card-link">Visit StoreÂ  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" /></svg></a>
        </div>
      </article>
    `;
}

window.renderDetail = function(btnElement) {
Â  Â  if (!detailEl || !btnElement) return;

Â  Â  const listEl = document.getElementById('categories-list');
Â  Â  listEl.querySelectorAll('.cat-item').forEach(b => b.classList.remove('cat-item--active'));
Â  Â  btnElement.classList.add('cat-item--active');

Â  Â  const key = btnElement.getAttribute('data-cat-id');
Â  Â  const store = RAW_DATA[key];
Â  Â  const storeHref = `store/${key}/`;

Â  Â  if (!store) return;

Â  Â  const linksHtml = (store.sections || []).map(s => {
Â  Â  Â  Â  const sectionHref = s.slug ? `${storeHref}${s.slug}/` : storeHref;
Â  Â  Â  Â  return `<a href="${sectionHref}">${s.name}</a>`;
Â  Â  }).join('');

Â  Â  detailEl.innerHTML = `
Â  Â  Â  <div class="cat-detail-eyebrow">Store</div>
Â  Â  Â  <div class="cat-detail-title">${store.title}</div>
Â  Â  Â  <div class="cat-detail-subtitle">${store.tagline || 'Explore products in this store.'}</div>
Â  Â  Â  <div class="cat-detail-links">
Â  Â  Â  Â  ${linksHtml || `<a href="${storeHref}">Browse all products</a>`}
Â  Â  Â  </div>
Â  Â  `;
};


document.addEventListener('DOMContentLoaded', () => {
    // 1. Veri YÃ¼kleme ve Arama Motoru HazÄ±rlÄ±ÄŸÄ±
    fetch('store.data.json')
        .then(res => res.json())
        .then(json => {
            RAW_DATA = json;
            const storeKeys = Object.keys(RAW_DATA);
            
            // RGZTEC_SEARCH'Ã¼ baÅŸlat (bu, load fonksiyonunu Ã§aÄŸÄ±rÄ±r ve Ã¼rÃ¼nleri hazÄ±rlar)
            // Asenkron olduÄŸu iÃ§in sadece Ã§aÄŸÄ±rÄ±yoruz. Ä°lk arama geldiÄŸinde veri hazÄ±r olacaktÄ±r.
            RGZTEC_SEARCH.load(); 

            let subNavHTML = '';
            let listHTML = '';
            let cardHTML = '';
            
            storeKeys.forEach((key, index) => {
                const store = RAW_DATA[key];
                const storeHref = `store/${key}/`;
                
                // Sub-Nav
                subNavHTML += `<div class="sub-nav-item"><a href="${storeHref}">${store.title}</a></div>`;

                // Mega Menu Sidebar
                const isActive = index === 0 ? ' cat-item--active' : '';
                listHTML += `<button class="cat-item${isActive}" data-cat-id="${key}" onmouseover="renderDetail(this)">
                    <div class="cat-item-main"><span>${store.title}</span><small>${store.tagline || 'Explore products'}</small></div>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 4.293a1 1 0 011.414 0L13 8.586a1 1 0 010 1.414l-4.293 4.293a1 1 0 01-1.414-1.414L10.586 10 7.293 6.707a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                </button>`;

                // Kart Galerisi
                cardHTML += renderStoreCard({ key: key, ...store });
            });
            
            if (subNavListEl) subNavListEl.innerHTML = subNavHTML;
            if (listEl) listEl.innerHTML = listHTML;
            if (gallery) gallery.innerHTML = cardHTML;
            
            // Ä°lk kategori detayÄ±nÄ± gÃ¶ster
            if (listEl && storeKeys.length > 0) {
                renderDetail(listEl.querySelector('.cat-item'));
            }
        })
        .catch(err => {
            console.error("Veri yÃ¼klenirken kritik hata:", err);
            if (listEl) listEl.innerHTML = '<p class="text-red-500 p-4">Error loading categories.</p>';
        });


    // 2. Arama ve Mega MenÃ¼ Eventleri
    
    // Mega MenÃ¼ AÃ§/Kapa
    if (btnCat && header && catPanelWrap) {
        function updatePointerPosition() {
Â  Â  Â  Â  Â  if (!catPanel) return;
Â  Â  Â  Â  Â  const btnRect = btnCat.getBoundingClientRect();
Â  Â  Â  Â  Â  const headerRect = header.getBoundingClientRect();
Â  Â  Â  Â  Â  const offset = btnRect.left - headerRect.left + btnRect.width / 2;
Â  Â  Â  Â  Â  catPanel.style.setProperty('--cat-pointer-left', `${offset}px`);
Â  Â  Â  Â  }

        btnCat.addEventListener('click', (e) => {
Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  const isOpen = header.classList.contains('has-cat-open');
Â  Â  Â  Â  Â  header.classList.toggle('has-cat-open', !isOpen);
Â  Â  Â  Â  Â  if (!isOpen) updatePointerPosition();
Â  Â  Â  Â  });
        
        document.addEventListener('click', (e) => {
Â  Â  Â  Â  Â  if (!header.contains(e.target)) {
Â  Â  Â  Â  Â  Â  header.classList.remove('has-cat-open');
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
        window.addEventListener('resize', updatePointerPosition);
    }
});

/* --- 3. ARAMA VE OTOMATÄ°K TAMAMLAMA UI MANTIÄžI (Snippet 1) --- */
const searchInput = document.querySelector(".search-input");
const resultsBox = document.createElement("div");

resultsBox.classList.add("autocomplete-box");
document.body.appendChild(resultsBox);

function positionAutocompleteBox() {
    const rect = searchInput.getBoundingClientRect();
    resultsBox.style.position = "absolute"; 
    resultsBox.style.top = (rect.bottom + 5) + "px";
    resultsBox.style.left = rect.left + "px";
    resultsBox.style.width = rect.width + "px";
    resultsBox.style.zIndex = "1002";
}
window.addEventListener("resize", positionAutocompleteBox);

// Otomatik Tamamlama (Input Event)
searchInput.addEventListener("input", async () => {
    const q = searchInput.value;
    
    // Mega MenÃ¼yÃ¼ kapat
    document.querySelector('.app-header').classList.remove('has-cat-open'); 

    if (q.length < 3) {
        resultsBox.style.display = "none";
        // EÄŸer arama kutusu boÅŸaldÄ±ysa ve sonuÃ§lar gÃ¶steriliyorsa, ana sayfayÄ± geri getir
        if (q.length === 0 && document.getElementById("home-search-results").style.display !== 'none') {
             document.getElementById("home-search-results").style.display = 'none';
             document.getElementById("gallery").style.display = 'grid';
        }
        return;
    }
    
    positionAutocompleteBox();
    
    const results = await RGZTEC_SEARCH.search(q);

    if (results.length === 0) {
        resultsBox.style.display = "none";
        return;
    }

    let html = "";
    results.slice(0, 5).forEach(r => {
        html += `
        <div class="ac-item" data-href="${r.href}">
            <img src="${r.image}" alt="${r.title}" />
            <div>
                <strong>${r.title}</strong>
                <span>${r.store} â†’ ${r.section}</span>
            </div>
        </div>`;
    });

    resultsBox.innerHTML = html;
    resultsBox.style.display = "block";
});

// Enter â†’ Tam arama sonuÃ§larÄ±nÄ± getir
searchInput.addEventListener("keydown", async (e) => {
    if (e.key === "Enter") {
        e.preventDefault();
        const q = searchInput.value;
        const results = await RGZTEC_SEARCH.search(q);
        window.renderSearchResultsOnHome(results, q);
        resultsBox.style.display = "none";
        searchInput.blur();
    }
});

// Suggestion click â†’ Ã¼rÃ¼ne git
resultsBox.addEventListener("click", e => {
    const item = e.target.closest(".ac-item");
    if (!item) return;
    const href = item.getAttribute("data-href");
    if (href) {
        window.location.href = href;
    }
});

// Arama kutusu dÄ±ÅŸÄ±na tÄ±klayÄ±nca kapat
document.addEventListener('click', (e) => {
    if (!searchInput.contains(e.target) && !resultsBox.contains(e.target)) {
        resultsBox.style.display = 'none';
    }
});
</script>
</body>
</html>






Â 












Â 




Â 


















Â 




Â 












Â 












Â 




Â 


















 




 







