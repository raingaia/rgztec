<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>RGZTEC ‚Ä¢ Premium Digital Marketplace</title>
  
  <base href="/rgztec/">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="assets/css/theme-tokens.css?v=1">
  <link rel="stylesheet" href="assets/css/store-core.css">
  <link rel="stylesheet" href="assets/css/home.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

  <style>
    /* TEMEL AYARLAR */
    img, a img { border: none !important; outline: none !important; }
    .header-inner { position: relative; }
    
    /* GENESIS STAGE - TAM EKRAN VE NETLƒ∞K AYARI */
    #genesis-stage {
        all: unset;
        display: block;
        width: 100vw;
        height: 75vh;
        position: relative;
        background: #ffffff;
        overflow: hidden;
        margin-left: calc(-50vw + 50%);
        z-index: 5;
    }

    #matrixCanvas {
        position: absolute; inset: 0; z-index: 1; opacity: 0.25;
    }

    /* BENTO & KATEGORƒ∞ STƒ∞LLERƒ∞ */
    .bento-icon-svg { width: 20px; height: 20px; margin-right: 8px; transition: transform 0.3s; }
    .btn-cat.active .bento-icon-svg { transform: rotate(90deg); color: #ff6b00; }
    .categories-panel-wrap {
        display: none; opacity: 0; position: absolute; top: 100%; left: 0; 
        width: 260px; z-index: 9999; transition: all 0.25s;
    }
    .categories-panel-wrap.active { display: block; opacity: 1; transform: translateY(12px); }
    .cat-link { display: flex; align-items: center; justify-content: space-between; padding: 11px 20px; text-decoration: none; color: #4b5563; font-size: 14px; transition: 0.2s; }
    .cat-link:hover { background: #f9fafb; color: #ff6b00; padding-left: 24px; }
  </style>
</head>
<body>

  <header class="app-header">
    <div class="container header-inner">
      <div class="header-left">
        <a href="./" class="logo">RGZTEC</a>
        <button id="btn-categories" class="btn-cat">
          <svg class="bento-icon-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="2"></rect><rect x="14" y="3" width="7" height="7" rx="2"></rect><rect x="14" y="14" width="7" height="7" rx="2"></rect><rect x="3" y="14" width="7" height="7" rx="2"></rect></svg>
          Categories
        </button>
        <div id="categories-panel" class="categories-panel-wrap">
            <div class="categories-panel">
              <div class="categories-list" id="categories-list-container"></div>
            </div>
        </div>
      </div>

      <div class="search-bar">
        <input type="text" class="search-input" placeholder="Search marketplace...">
        <button class="search-btn">üîç</button>
      </div>

      <div class="nav-right">
        <a href="editor/" class="nav-link">Dashboard</a>
        <a href="login/" class="nav-link">Sign In</a>
        <a href="cart.html" class="nav-link">Cart</a>
        <a href="open-store.html" class="btn-open-store">Open Store</a>
      </div>
    </div>
  </header>

  <section id="genesis-stage">
      <canvas id="matrixCanvas"></canvas>
      <div id="light-field" style="position: absolute; inset: 0; z-index: 2; pointer-events: none; background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), transparent 0%, rgba(255,255,255,0.8) 60%);"></div>

      <div style="position: absolute; left: 10%; top: 25%; z-index: 10;">
          <h1 id="genesis-title" style="font-size: clamp(50px, 9vw, 110px); font-weight: 800; line-height: 0.85; letter-spacing: -5px; color: #000; margin: 0;">GENESIS<br>PROTOCOL</h1>
      </div>

      <div style="position: absolute; bottom: 10%; width: 100%; display: flex; flex-direction: column; align-items: center; z-index: 20;">
          <div id="store-display" style="font-size: 28px; font-weight: 200; letter-spacing: 12px; color: #000; margin-bottom: 10px;">RGZTEC</div>
          <div style="width: 350px; height: 2px; background: rgba(0,0,0,0.06); position: relative;">
              <div id="progress-bar" style="position: absolute; left: 0; top: 0; height: 100%; width: 0%; background: #000;"></div>
          </div>
      </div>
  </section>

  <main class="container">
    <div class="section-header" style="margin-bottom: 24px; margin-top: 40px;">
      <h2 class="gallery-title">Explore Stores</h2>
    </div>
    <div id="gallery" class="grid"></div>
  </main>

  <script src="assets/js/home-products.js"></script> 
  <script>
    // --- GENESIS MOTORU ---
    window.addEventListener('load', () => {
        // 1. Matrix
        const canvas = document.getElementById("matrixCanvas");
        const ctx = canvas.getContext("2d");
        const resize = () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; };
        resize(); window.addEventListener('resize', resize);

        const drops = Array(Math.floor(window.innerWidth / 15)).fill(0);
        function drawMatrix() {
            ctx.fillStyle = "rgba(255, 255, 255, 0.15)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "#000";
            ctx.font = "15px monospace";
            drops.forEach((y, i) => {
                const text = Math.random() > 0.5 ? "0" : "1";
                ctx.fillText(text, i * 15, y * 15);
                if (y * 15 > canvas.height && Math.random() > 0.98) drops[i] = 0;
                drops[i]++;
            });
        }
        setInterval(drawMatrix, 50);

        // 2. Maƒüaza D√∂ng√ºs√º
        const stores = ["RGZTEC", "HARDWARE LAB", "TEMPLATES", "ICON SMITH", "AI TOOLS HUB"];
        let idx = 0;
        const bar = document.getElementById("progress-bar");
        const txt = document.getElementById("store-display");

        function runCycle() {
            txt.innerText = stores[idx];
            gsap.fromTo(txt, {opacity: 0, y: 10}, {opacity: 1, y: 0, duration: 0.7});
            gsap.fromTo(bar, {width: "0%"}, {width: "100%", duration: 5, ease: "none", onComplete: () => {
                gsap.to(txt, {opacity: 0, y: -10, duration: 0.5, onComplete: () => {
                    idx = (idx + 1) % stores.length;
                    runCycle();
                }});
            }});
        }
        runCycle();

        // 3. I≈üƒ±k Takibi
        window.addEventListener('mousemove', (e) => {
            const field = document.getElementById('light-field');
            field.style.setProperty('--x', e.clientX + 'px');
            field.style.setProperty('--y', e.clientY + 'px');
        });
    });

    // --- KATEGORƒ∞ Sƒ∞STEMƒ∞ (Senin mevcut kodun) ---
    document.addEventListener('DOMContentLoaded', function() {
        const btnCat = document.getElementById('btn-categories');
        const panel = document.getElementById('categories-panel');
        if(btnCat) {
            btnCat.addEventListener('click', (e) => {
                e.stopPropagation();
                panel.classList.toggle('active');
            });
            document.addEventListener('click', () => panel.classList.remove('active'));
        }
        // Kategori loading sim√ºlasyonu veya fetch buraya...
    });
  </script>
</body>
</html>
